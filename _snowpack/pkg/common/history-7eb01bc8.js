import{_ as J}from"./extends-7477639a.js";function Q(n){return n.charAt(0)==="/"}function X(n,e){for(var s=e,a=s+1,t=n.length;a<t;s+=1,a+=1)n[s]=n[a];n.pop()}function vn(n,e){e===void 0&&(e="");var s=n&&n.split("/")||[],a=e&&e.split("/")||[],t=n&&Q(n),g=e&&Q(e),p=t||g;if(n&&Q(n)?a=s:s.length&&(a.pop(),a=a.concat(s)),!a.length)return"/";var d;if(a.length){var v=a[a.length-1];d=v==="."||v===".."||v===""}else d=!1;for(var c=0,w=a.length;w>=0;w--){var O=a[w];O==="."?X(a,w):O===".."?(X(a,w),c++):c&&(X(a,w),c--)}if(!p)for(;c--;c)a.unshift("..");p&&a[0]!==""&&(!a[0]||!Q(a[0]))&&a.unshift("");var P=a.join("/");return d&&P.substr(-1)!=="/"&&(P+="/"),P}var gn="Invariant failed";function Y(n,e){if(!n)throw new Error(gn)}function W(n){return n.charAt(0)==="/"?n:"/"+n}function tn(n){return n.charAt(0)==="/"?n.substr(1):n}function pn(n,e){return n.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(n.charAt(e.length))!==-1}function an(n,e){return pn(n,e)?n.substr(e.length):n}function rn(n){return n.charAt(n.length-1)==="/"?n.slice(0,-1):n}function wn(n){var e=n||"/",s="",a="",t=e.indexOf("#");t!==-1&&(a=e.substr(t),e=e.substr(0,t));var g=e.indexOf("?");return g!==-1&&(s=e.substr(g),e=e.substr(0,g)),{pathname:e,search:s==="?"?"":s,hash:a==="#"?"":a}}function S(n){var e=n.pathname,s=n.search,a=n.hash,t=e||"/";return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function $(n,e,s,a){var t;typeof n=="string"?(t=wn(n),t.state=e):(t=J({},n),t.pathname===void 0&&(t.pathname=""),t.search?t.search.charAt(0)!=="?"&&(t.search="?"+t.search):t.search="",t.hash?t.hash.charAt(0)!=="#"&&(t.hash="#"+t.hash):t.hash="",e!==void 0&&t.state===void 0&&(t.state=e));try{t.pathname=decodeURI(t.pathname)}catch(g){throw g instanceof URIError?new URIError('Pathname "'+t.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):g}return s&&(t.key=s),a?t.pathname?t.pathname.charAt(0)!=="/"&&(t.pathname=vn(t.pathname,a.pathname)):t.pathname=a.pathname:t.pathname||(t.pathname="/"),t}function Z(){var n=null;function e(p){return n=p,function(){n===p&&(n=null)}}function s(p,d,v,c){if(n!=null){var w=typeof n=="function"?n(p,d):n;typeof w=="string"?typeof v=="function"?v(w,c):c(!0):c(w!==!1)}else c(!0)}var a=[];function t(p){var d=!0;function v(){d&&p.apply(void 0,arguments)}return a.push(v),function(){d=!1,a=a.filter(function(c){return c!==v})}}function g(){for(var p=arguments.length,d=new Array(p),v=0;v<p;v++)d[v]=arguments[v];a.forEach(function(c){return c.apply(void 0,d)})}return{setPrompt:e,confirmTransitionTo:s,appendListener:t,notifyListeners:g}}var on=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function sn(n,e){e(window.confirm(n))}function mn(){var n=window.navigator.userAgent;return(n.indexOf("Android 2.")!==-1||n.indexOf("Android 4.0")!==-1)&&n.indexOf("Mobile Safari")!==-1&&n.indexOf("Chrome")===-1&&n.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Pn(){return window.navigator.userAgent.indexOf("Trident")===-1}function yn(){return window.navigator.userAgent.indexOf("Firefox")===-1}function xn(n){return n.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var fn="popstate",cn="hashchange";function hn(){try{return window.history.state||{}}catch(n){return{}}}function Ln(n){n===void 0&&(n={}),on||Y(!1);var e=window.history,s=mn(),a=!Pn(),t=n,g=t.forceRefresh,p=g===void 0?!1:g,d=t.getUserConfirmation,v=d===void 0?sn:d,c=t.keyLength,w=c===void 0?6:c,O=n.basename?rn(W(n.basename)):"";function P(r){var i=r||{},f=i.key,o=i.state,l=window.location,y=l.pathname,H=l.search,M=l.hash,I=y+H+M;return O&&(I=an(I,O)),$(I,o,f)}function A(){return Math.random().toString(36).substr(2,w)}var b=Z();function U(r){J(C,r),C.length=e.length,b.notifyListeners(C.location,C.action)}function j(r){xn(r)||q(P(r.state))}function _(){q(P(hn()))}var R=!1;function q(r){if(R)R=!1,U();else{var i="POP";b.confirmTransitionTo(r,i,v,function(f){f?U({action:i,location:r}):K(r)})}}function K(r){var i=C.location,f=E.indexOf(i.key);f===-1&&(f=0);var o=E.indexOf(r.key);o===-1&&(o=0);var l=f-o;l&&(R=!0,x(l))}var F=P(hn()),E=[F.key];function h(r){return O+S(r)}function u(r,i){var f="PUSH",o=$(r,i,A(),C.location);b.confirmTransitionTo(o,f,v,function(l){if(!!l){var y=h(o),H=o.key,M=o.state;if(s)if(e.pushState({key:H,state:M},null,y),p)window.location.href=y;else{var I=E.indexOf(C.location.key),G=E.slice(0,I+1);G.push(o.key),E=G,U({action:f,location:o})}else window.location.href=y}})}function k(r,i){var f="REPLACE",o=$(r,i,A(),C.location);b.confirmTransitionTo(o,f,v,function(l){if(!!l){var y=h(o),H=o.key,M=o.state;if(s)if(e.replaceState({key:H,state:M},null,y),p)window.location.replace(y);else{var I=E.indexOf(C.location.key);I!==-1&&(E[I]=o.key),U({action:f,location:o})}else window.location.replace(y)}})}function x(r){e.go(r)}function m(){x(-1)}function B(){x(1)}var D=0;function T(r){D+=r,D===1&&r===1?(window.addEventListener(fn,j),a&&window.addEventListener(cn,_)):D===0&&(window.removeEventListener(fn,j),a&&window.removeEventListener(cn,_))}var L=!1;function N(r){r===void 0&&(r=!1);var i=b.setPrompt(r);return L||(T(1),L=!0),function(){return L&&(L=!1,T(-1)),i()}}function V(r){var i=b.appendListener(r);return T(1),function(){T(-1),i()}}var C={length:e.length,action:"POP",location:F,createHref:h,push:u,replace:k,go:x,goBack:m,goForward:B,block:N,listen:V};return C}var un="hashchange",On={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+tn(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:tn,decodePath:W},slash:{encodePath:W,decodePath:W}};function ln(n){var e=n.indexOf("#");return e===-1?n:n.slice(0,e)}function z(){var n=window.location.href,e=n.indexOf("#");return e===-1?"":n.substring(e+1)}function bn(n){window.location.hash=n}function nn(n){window.location.replace(ln(window.location.href)+"#"+n)}function kn(n){n===void 0&&(n={}),on||Y(!1);var e=window.history;yn();var s=n,a=s.getUserConfirmation,t=a===void 0?sn:a,g=s.hashType,p=g===void 0?"slash":g,d=n.basename?rn(W(n.basename)):"",v=On[p],c=v.encodePath,w=v.decodePath;function O(){var i=w(z());return d&&(i=an(i,d)),$(i)}var P=Z();function A(i){J(r,i),r.length=e.length,P.notifyListeners(r.location,r.action)}var b=!1,U=null;function j(i,f){return i.pathname===f.pathname&&i.search===f.search&&i.hash===f.hash}function _(){var i=z(),f=c(i);if(i!==f)nn(f);else{var o=O(),l=r.location;if(!b&&j(l,o)||U===S(o))return;U=null,R(o)}}function R(i){if(b)b=!1,A();else{var f="POP";P.confirmTransitionTo(i,f,t,function(o){o?A({action:f,location:i}):q(i)})}}function q(i){var f=r.location,o=h.lastIndexOf(S(f));o===-1&&(o=0);var l=h.lastIndexOf(S(i));l===-1&&(l=0);var y=o-l;y&&(b=!0,m(y))}var K=z(),F=c(K);K!==F&&nn(F);var E=O(),h=[S(E)];function u(i){var f=document.querySelector("base"),o="";return f&&f.getAttribute("href")&&(o=ln(window.location.href)),o+"#"+c(d+S(i))}function k(i,f){var o="PUSH",l=$(i,void 0,void 0,r.location);P.confirmTransitionTo(l,o,t,function(y){if(!!y){var H=S(l),M=c(d+H),I=z()!==M;if(I){U=H,bn(M);var G=h.lastIndexOf(S(r.location)),en=h.slice(0,G+1);en.push(H),h=en,A({action:o,location:l})}else A()}})}function x(i,f){var o="REPLACE",l=$(i,void 0,void 0,r.location);P.confirmTransitionTo(l,o,t,function(y){if(!!y){var H=S(l),M=c(d+H),I=z()!==M;I&&(U=H,nn(M));var G=h.indexOf(S(r.location));G!==-1&&(h[G]=H),A({action:o,location:l})}})}function m(i){e.go(i)}function B(){m(-1)}function D(){m(1)}var T=0;function L(i){T+=i,T===1&&i===1?window.addEventListener(un,_):T===0&&window.removeEventListener(un,_)}var N=!1;function V(i){i===void 0&&(i=!1);var f=P.setPrompt(i);return N||(L(1),N=!0),function(){return N&&(N=!1,L(-1)),f()}}function C(i){var f=P.appendListener(i);return L(1),function(){L(-1),f()}}var r={length:e.length,action:"POP",location:E,createHref:u,push:k,replace:x,go:m,goBack:B,goForward:D,block:V,listen:C};return r}function dn(n,e,s){return Math.min(Math.max(n,e),s)}function Tn(n){n===void 0&&(n={});var e=n,s=e.getUserConfirmation,a=e.initialEntries,t=a===void 0?["/"]:a,g=e.initialIndex,p=g===void 0?0:g,d=e.keyLength,v=d===void 0?6:d,c=Z();function w(u){J(h,u),h.length=h.entries.length,c.notifyListeners(h.location,h.action)}function O(){return Math.random().toString(36).substr(2,v)}var P=dn(p,0,t.length-1),A=t.map(function(u){return typeof u=="string"?$(u,void 0,O()):$(u,void 0,u.key||O())}),b=S;function U(u,k){var x="PUSH",m=$(u,k,O(),h.location);c.confirmTransitionTo(m,x,s,function(B){if(!!B){var D=h.index,T=D+1,L=h.entries.slice(0);L.length>T?L.splice(T,L.length-T,m):L.push(m),w({action:x,location:m,index:T,entries:L})}})}function j(u,k){var x="REPLACE",m=$(u,k,O(),h.location);c.confirmTransitionTo(m,x,s,function(B){!B||(h.entries[h.index]=m,w({action:x,location:m}))})}function _(u){var k=dn(h.index+u,0,h.entries.length-1),x="POP",m=h.entries[k];c.confirmTransitionTo(m,x,s,function(B){B?w({action:x,location:m,index:k}):w()})}function R(){_(-1)}function q(){_(1)}function K(u){var k=h.index+u;return k>=0&&k<h.entries.length}function F(u){return u===void 0&&(u=!1),c.setPrompt(u)}function E(u){return c.appendListener(u)}var h={length:A.length,action:"POP",location:A[P],index:P,entries:A,createHref:b,push:U,replace:j,go:_,goBack:R,goForward:q,canGo:K,block:F,listen:E};return h}export{Tn as a,$ as b,Ln as c,S as d,kn as e,Y as i};
