import{r as a}from"./index-57a74e37.js";import{g as v,c as h}from"./_commonjsHelpers-8c19dec8.js";function O(d){let e;const c=new Set,n=(o,u)=>{const t=typeof o=="function"?o(e):o;if(t!==e){const i=e;e=u?t:Object.assign({},e,t),c.forEach(l=>l(e,i))}},r=()=>e,f=(o,u=r,t=Object.is)=>{let i=u(e);function l(){const g=u(e);if(!t(i,g)){const p=i;o(i=g,p)}}return c.add(l),()=>c.delete(l)},S={setState:n,getState:r,subscribe:(o,u,t)=>u||t?f(o,u,t):(c.add(o),()=>c.delete(o)),destroy:()=>c.clear()};return e=d(n,r,S),S}const j=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),R=j?a.useEffect:a.useLayoutEffect;function x(d){const e=typeof d=="function"?O(d):d,c=(n=e.getState,r=Object.is)=>{const[,f]=a.useReducer(p=>p+1,0),s=e.getState(),b=a.useRef(s),S=a.useRef(n),o=a.useRef(r),u=a.useRef(!1),t=a.useRef();t.current===void 0&&(t.current=n(s));let i,l=!1;(b.current!==s||S.current!==n||o.current!==r||u.current)&&(i=n(s),l=!r(t.current,i)),R(()=>{l&&(t.current=i),b.current=s,S.current=n,o.current=r,u.current=!1});const g=a.useRef(s);return R(()=>{const p=()=>{try{const y=e.getState(),w=S.current(y);o.current(t.current,w)||(b.current=y,t.current=w,f())}catch(y){u.current=!0,f()}},m=e.subscribe(p);return e.getState()!==g.current&&p(),m},[]),l?i:t.current};return Object.assign(c,e),c[Symbol.iterator]=function*(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4"),yield c,yield e},c}var E=h(function(d,e){Object.defineProperty(e,"__esModule",{value:!0});function c(n,r){if(Object.is(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var f=Object.keys(n);if(f.length!==Object.keys(r).length)return!1;for(var s=0;s<f.length;s++)if(!Object.prototype.hasOwnProperty.call(r,f[s])||!Object.is(n[f[s]],r[f[s]]))return!1;return!0}e.default=c}),_=v(E);export{x as c,_ as s};
