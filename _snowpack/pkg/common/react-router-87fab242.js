import{_ as k}from"./setPrototypeOf-adc775f4.js";import{r as h}from"./index-57a74e37.js";import{p as I}from"./index-ce016b4a.js";import{a as tt,i as P,b as H,d as et}from"./history-7eb01bc8.js";import{_}from"./extends-7477639a.js";import"./index-38b769d8.js";import{_ as O}from"./objectWithoutPropertiesLoose-d5128f55.js";import{h as rt}from"./hoist-non-react-statics.cjs-0d803417.js";function m(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,k(t,e)}var j=1073741823,F=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function nt(){var t="__global_unique_id__";return F[t]=(F[t]||0)+1}function ot(t,e){return t===e?t!==0||1/t==1/e:t!==t&&e!==e}function it(t){var e=[];return{on:function(o){e.push(o)},off:function(o){e=e.filter(function(n){return n!==o})},get:function(){return t},set:function(o,n){t=o,e.forEach(function(a){return a(t,n)})}}}function at(t){return Array.isArray(t)?t[0]:t}function st(t,e){var r,o,n="__create-react-context-"+nt()+"__",a=function(s){m(l,s);function l(){var i;return i=s.apply(this,arguments)||this,i.emitter=it(i.props.value),i}var p=l.prototype;return p.getChildContext=function(){var c;return c={},c[n]=this.emitter,c},p.componentWillReceiveProps=function(c){if(this.props.value!==c.value){var f=this.props.value,v=c.value,d;ot(f,v)?d=0:(d=typeof e=="function"?e(f,v):j,d|=0,d!==0&&this.emitter.set(c.value,d))}},p.render=function(){return this.props.children},l}(h.Component);a.childContextTypes=(r={},r[n]=I.object.isRequired,r);var u=function(s){m(l,s);function l(){var i;return i=s.apply(this,arguments)||this,i.state={value:i.getValue()},i.onUpdate=function(c,f){var v=i.observedBits|0;(v&f)!=0&&i.setState({value:i.getValue()})},i}var p=l.prototype;return p.componentWillReceiveProps=function(c){var f=c.observedBits;this.observedBits=f??j},p.componentDidMount=function(){this.context[n]&&this.context[n].on(this.onUpdate);var c=this.props.observedBits;this.observedBits=c??j},p.componentWillUnmount=function(){this.context[n]&&this.context[n].off(this.onUpdate)},p.getValue=function(){return this.context[n]?this.context[n].get():t},p.render=function(){return at(this.props.children)(this.state.value)},l}(h.Component);return u.contextTypes=(o={},o[n]=I.object,o),{Provider:a,Consumer:u}}var G=h.createContext||st,T=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},E=J,ct=A,ut=ht,pt=V,lt=q,ft=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function A(t,e){for(var r=[],o=0,n=0,a="",u=e&&e.delimiter||"/",s;(s=ft.exec(t))!=null;){var l=s[0],p=s[1],i=s.index;if(a+=t.slice(n,i),n=i+l.length,p){a+=p[1];continue}var c=t[n],f=s[2],v=s[3],d=s[4],M=s[5],g=s[6],x=s[7];a&&(r.push(a),a="");var $=f!=null&&c!=null&&c!==f,b=g==="+"||g==="*",R=g==="?"||g==="*",w=s[2]||u,C=d||M;r.push({name:v||o++,prefix:f||"",delimiter:w,optional:R,repeat:b,partial:$,asterisk:!!x,pattern:C?mt(C):x?".*":"[^"+U(w)+"]+?"})}return n<t.length&&(a+=t.substr(n)),a&&r.push(a),r}function ht(t,e){return V(A(t,e),e)}function vt(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function dt(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function V(t,e){for(var r=new Array(t.length),o=0;o<t.length;o++)typeof t[o]=="object"&&(r[o]=new RegExp("^(?:"+t[o].pattern+")$",L(e)));return function(n,a){for(var u="",s=n||{},l=a||{},p=l.pretty?vt:encodeURIComponent,i=0;i<t.length;i++){var c=t[i];if(typeof c=="string"){u+=c;continue}var f=s[c.name],v;if(f==null)if(c.optional){c.partial&&(u+=c.prefix);continue}else throw new TypeError('Expected "'+c.name+'" to be defined');if(T(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(f.length===0){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(v=p(f[d]),!r[i].test(v))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(v)+"`");u+=(d===0?c.prefix:c.delimiter)+v}continue}if(v=c.asterisk?dt(f):p(f),!r[i].test(v))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+v+'"');u+=c.prefix+v}return u}}function U(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function mt(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function S(t,e){return t.keys=e,t}function L(t){return t&&t.sensitive?"":"i"}function gt(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var o=0;o<r.length;o++)e.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return S(t,e)}function yt(t,e,r){for(var o=[],n=0;n<t.length;n++)o.push(J(t[n],e,r).source);var a=new RegExp("(?:"+o.join("|")+")",L(r));return S(a,e)}function xt(t,e,r){return q(A(t,r),e,r)}function q(t,e,r){T(e)||(r=e||r,e=[]),r=r||{};for(var o=r.strict,n=r.end!==!1,a="",u=0;u<t.length;u++){var s=t[u];if(typeof s=="string")a+=U(s);else{var l=U(s.prefix),p="(?:"+s.pattern+")";e.push(s),s.repeat&&(p+="(?:"+l+p+")*"),s.optional?s.partial?p=l+"("+p+")?":p="(?:"+l+"("+p+"))?":p=l+"("+p+")",a+=p}}var i=U(r.delimiter||"/"),c=a.slice(-i.length)===i;return o||(a=(c?a.slice(0,-i.length):a)+"(?:"+i+"(?=$))?"),n?a+="$":a+=o&&c?"":"(?="+i+"|$)",S(new RegExp("^"+a,L(r)),e)}function J(t,e,r){return T(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?gt(t,e):T(t)?yt(t,e,r):xt(t,e,r)}E.parse=ct,E.compile=ut,E.tokensToFunction=pt,E.tokensToRegExp=lt;var _t=function(e){var r=G();return r.displayName=e,r},K=_t("Router-History"),Et=function(e){var r=G();return r.displayName=e,r},y=Et("Router"),N=function(t){m(e,t),e.computeRootMatch=function(n){return{path:"/",url:"/",params:{},isExact:n==="/"}};function e(o){var n;return n=t.call(this,o)||this,n.state={location:o.history.location},n._isMounted=!1,n._pendingLocation=null,o.staticContext||(n.unlisten=o.history.listen(function(a){n._isMounted?n.setState({location:a}):n._pendingLocation=a})),n}var r=e.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return h.createElement(y.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},h.createElement(K.Provider,{children:this.props.children||null,value:this.props.history}))},e}(h.Component);h.Component,h.Component;var X={},bt=1e4,z=0;function Rt(t,e){var r=""+e.end+e.strict+e.sensitive,o=X[r]||(X[r]={});if(o[t])return o[t];var n=[],a=E(t,n,e),u={regexp:a,keys:n};return z<bt&&(o[t]=u,z++),u}function W(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var r=e,o=r.path,n=r.exact,a=n===void 0?!1:n,u=r.strict,s=u===void 0?!1:u,l=r.sensitive,p=l===void 0?!1:l,i=[].concat(o);return i.reduce(function(c,f){if(!f&&f!=="")return null;if(c)return c;var v=Rt(f,{end:a,strict:s,sensitive:p}),d=v.regexp,M=v.keys,g=d.exec(t);if(!g)return null;var x=g[0],$=g.slice(1),b=t===x;return a&&!b?null:{path:f,url:f==="/"&&x===""?"/":x,isExact:b,params:M.reduce(function(R,w,C){return R[w.name]=$[C],R},{})}},null)}var wt=function(t){m(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.render=function(){var n=this;return h.createElement(y.Consumer,null,function(a){a||P(!1);var u=n.props.location||a.location,s=n.props.computedMatch?n.props.computedMatch:n.props.path?W(u.pathname,n.props):a.match,l=_({},a,{location:u,match:s}),p=n.props,i=p.children,c=p.component,f=p.render;return Array.isArray(i)&&i.length===0&&(i=null),h.createElement(y.Provider,{value:l},l.match?i?typeof i=="function"?i(l):i:c?h.createElement(c,l):f?f(l):null:typeof i=="function"?i(l):null)})},e}(h.Component);function D(t){return t.charAt(0)==="/"?t:"/"+t}function Ct(t,e){return t?_({},e,{pathname:D(t)+e.pathname}):e}function Pt(t,e){if(!t)return e;var r=D(t);return e.pathname.indexOf(r)!==0?e:_({},e,{pathname:e.pathname.substr(r.length)})}function Q(t){return typeof t=="string"?t:et(t)}function B(t){return function(){P(!1)}}function Y(){}h.Component;var Tt=function(t){m(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.render=function(){var n=this;return h.createElement(y.Consumer,null,function(a){a||P(!1);var u=n.props.location||a.location,s,l;return h.Children.forEach(n.props.children,function(p){if(l==null&&h.isValidElement(p)){s=p;var i=p.props.path||p.props.from;l=i?W(u.pathname,_({},p.props,{path:i})):a.match}}),l?h.cloneElement(s,{location:u,computedMatch:l}):null})},e}(h.Component);function Ut(t){var e="withRouter("+(t.displayName||t.name)+")",r=function(n){var a=n.wrappedComponentRef,u=O(n,["wrappedComponentRef"]);return h.createElement(y.Consumer,null,function(s){return s||P(!1),h.createElement(t,_({},u,s,{ref:a}))})};return r.displayName=e,r.WrappedComponent=t,rt(r,t)}var Z=h.useContext;function Mt(){return Z(K)}function $t(){var t=Z(y).match;return t?t.params:{}}export{N as R,Tt as S,m as _,wt as a,$t as b,y as c,W as m,Mt as u,Ut as w};
