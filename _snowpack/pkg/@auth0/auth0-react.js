import{r as J}from"../common/index-5286cf50.js";import"../common/_commonjsHelpers-b3efd043.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Be=function(t,e){return Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Be(t,e)};function ii(t,e){Be(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var V=function(){return V=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},V.apply(this,arguments)};function Ue(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ee(t,e,n,r){function i(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function o(l){try{s(r.next(l))}catch(f){u(f)}}function a(l){try{s(r.throw(l))}catch(f){u(f)}}function s(l){l.done?c(l.value):i(l.value).then(o,a)}s((r=r.apply(t,e||[])).next())})}function ne(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,i,c,u;return u={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function o(s){return function(l){return a([s,l])}}function a(s){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(c=s[0]&2?i.return:s[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,s[1])).done)return c;switch(i=0,c&&(s=[s[0]&2,c.value]),s[0]){case 0:case 1:c=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!c||s[1]>c[0]&&s[1]<c[3])){n.label=s[1];break}if(s[0]===6&&n.label<c[1]){n.label=c[1],c=s;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(s);break}c[2]&&n.ops.pop(),n.trys.pop();continue}s=e.call(t,n)}catch(l){s=[6,l],i=0}finally{r=c=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var yn=function(t,e){return(yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])})(t,e)};function re(t,e){function n(){this.constructor=t}yn(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var U=function(){return(U=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function K(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function w(t,e,n,r){return new(n||(n=Promise))(function(i,c){function u(s){try{a(r.next(s))}catch(l){c(l)}}function o(s){try{a(r.throw(s))}catch(l){c(l)}}function a(s){s.done?i(s.value):new n(function(l){l(s.value)}).then(u,o)}a((r=r.apply(t,e||[])).next())})}function G(t,e){var n,r,i,c,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(a){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return u.label++,{value:l[1],done:!1};case 5:u.label++,r=l[1],l=[0];continue;case 7:l=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!((i=i.length>0&&i[i.length-1])||l[0]!==6&&l[0]!==2)){u=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){u.label=l[1];break}if(l[0]===6&&u.label<i[1]){u.label=i[1],i=l;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(l);break}i[2]&&u.ops.pop(),u.trys.pop();continue}l=e.call(t,u)}catch(f){l=[6,f],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([a,s])}}}var z=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Fe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ct(t,e){return t(e={exports:{}},e.exports),e.exports}var ie=function(t){return t&&t.Math==Math&&t},B=ie(typeof globalThis=="object"&&globalThis)||ie(typeof window=="object"&&window)||ie(typeof self=="object"&&self)||ie(typeof z=="object"&&z)||function(){return this}()||Function("return this")(),W=function(t){try{return!!t()}catch(e){return!0}},X=!W(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),bn={}.propertyIsEnumerable,mn=Object.getOwnPropertyDescriptor,Se={f:mn&&!bn.call({1:2},1)?function(t){var e=mn(this,t);return!!e&&e.enumerable}:bn},ft=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},oi={}.toString,gt=function(t){return oi.call(t).slice(8,-1)},ci="".split,vn=W(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return gt(t)=="String"?ci.call(t,""):Object(t)}:Object,kt=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t},D=function(t){return vn(kt(t))},x=function(t){return typeof t=="object"?t!==null:typeof t=="function"},Bt=function(t,e){if(!x(t))return t;var n,r;if(e&&typeof(n=t.toString)=="function"&&!x(r=n.call(t))||typeof(n=t.valueOf)=="function"&&!x(r=n.call(t))||!e&&typeof(n=t.toString)=="function"&&!x(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},si={}.hasOwnProperty,C=function(t,e){return si.call(t,e)},Ze=B.document,ui=x(Ze)&&x(Ze.createElement),Cn=function(t){return ui?Ze.createElement(t):{}},Bn=!X&&!W(function(){return Object.defineProperty(Cn("div"),"a",{get:function(){return 7}}).a!=7}),Un=Object.getOwnPropertyDescriptor,Lt={f:X?Un:function(t,e){if(t=D(t),e=Bt(e,!0),Bn)try{return Un(t,e)}catch(n){}if(C(t,e))return ft(!Se.f.call(t,e),t[e])}},L=function(t){if(!x(t))throw TypeError(String(t)+" is not an object");return t},Fn=Object.defineProperty,H={f:X?Fn:function(t,e,n){if(L(t),e=Bt(e,!0),L(n),Bn)try{return Fn(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},N=X?function(t,e,n){return H.f(t,e,ft(1,n))}:function(t,e,n){return t[e]=n,t},Ve=function(t,e){try{N(B,t,e)}catch(n){B[t]=e}return e},It=B["__core-js_shared__"]||Ve("__core-js_shared__",{}),ai=Function.toString;typeof It.inspectSource!="function"&&(It.inspectSource=function(t){return ai.call(t)});var oe,Ht,ce,Sn=It.inspectSource,Zn=B.WeakMap,li=typeof Zn=="function"&&/native code/.test(Sn(Zn)),ht=Ct(function(t){(t.exports=function(e,n){return It[e]||(It[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.8.0",mode:"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})}),di=0,fi=Math.random(),Ut=function(t){return"Symbol("+String(t===void 0?"":t)+")_"+(++di+fi).toString(36)},Vn=ht("keys"),se=function(t){return Vn[t]||(Vn[t]=Ut(t))},Ft={},gi=B.WeakMap;if(li){var St=It.state||(It.state=new gi),Ii=St.get,hi=St.has,pi=St.set;oe=function(t,e){return e.facade=t,pi.call(St,t,e),e},Ht=function(t){return Ii.call(St,t)||{}},ce=function(t){return hi.call(St,t)}}else{var Et=se("state");Ft[Et]=!0,oe=function(t,e){return e.facade=t,N(t,Et,e),e},Ht=function(t){return C(t,Et)?t[Et]:{}},ce=function(t){return C(t,Et)}}var we,j={set:oe,get:Ht,has:ce,enforce:function(t){return ce(t)?Ht(t):oe(t,{})},getterFor:function(t){return function(e){var n;if(!x(e)||(n=Ht(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},M=Ct(function(t){var e=j.get,n=j.enforce,r=String(String).split("String");(t.exports=function(i,c,u,o){var a,s=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,f=!!o&&!!o.noTargetGet;typeof u=="function"&&(typeof c!="string"||C(u,"name")||N(u,"name",c),(a=n(u)).source||(a.source=r.join(typeof c=="string"?c:""))),i!==B?(s?!f&&i[c]&&(l=!0):delete i[c],l?i[c]=u:N(i,c,u)):l?i[c]=u:Ve(c,u)})(Function.prototype,"toString",function(){return typeof this=="function"&&e(this).source||Sn(this)})}),it=B,wn=function(t){return typeof t=="function"?t:void 0},Tt=function(t,e){return arguments.length<2?wn(it[t])||wn(B[t]):it[t]&&it[t][e]||B[t]&&B[t][e]},yi=Math.ceil,bi=Math.floor,Ge=function(t){return isNaN(t=+t)?0:(t>0?bi:yi)(t)},mi=Math.min,Zt=function(t){return t>0?mi(Ge(t),9007199254740991):0},vi=Math.max,Ci=Math.min,Gn=function(t){return function(e,n,r){var i,c=D(e),u=Zt(c.length),o=function(a,s){var l=Ge(a);return l<0?vi(l+s,0):Ci(l,s)}(r,u);if(t&&n!=n){for(;u>o;)if((i=c[o++])!=i)return!0}else for(;u>o;o++)if((t||o in c)&&c[o]===n)return t||o||0;return!t&&-1}},Xn={includes:Gn(!0),indexOf:Gn(!1)},Bi=Xn.indexOf,xn=function(t,e){var n,r=D(t),i=0,c=[];for(n in r)!C(Ft,n)&&C(r,n)&&c.push(n);for(;e.length>i;)C(r,n=e[i++])&&(~Bi(c,n)||c.push(n));return c},ue=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ui=ue.concat("length","prototype"),Xe={f:Object.getOwnPropertyNames||function(t){return xn(t,Ui)}},ae={f:Object.getOwnPropertySymbols},Fi=Tt("Reflect","ownKeys")||function(t){var e=Xe.f(L(t)),n=ae.f;return n?e.concat(n(t)):e},An=function(t,e){for(var n=Fi(e),r=H.f,i=Lt.f,c=0;c<n.length;c++){var u=n[c];C(t,u)||r(t,u,i(e,u))}},Si=/#|\.prototype\./,Nt=function(t,e){var n=Vi[Zi(t)];return n==Gi||n!=wi&&(typeof e=="function"?W(e):!!e)},Zi=Nt.normalize=function(t){return String(t).replace(Si,".").toLowerCase()},Vi=Nt.data={},wi=Nt.NATIVE="N",Gi=Nt.POLYFILL="P",xe=Nt,Xi=Lt.f,k=function(t,e){var n,r,i,c,u,o=t.target,a=t.global,s=t.stat;if(n=a?B:s?B[o]||Ve(o,{}):(B[o]||{}).prototype)for(r in e){if(c=e[r],i=t.noTargetGet?(u=Xi(n,r))&&u.value:n[r],!xe(a?r:o+(s?".":"#")+r,t.forced)&&i!==void 0){if(typeof c==typeof i)continue;An(c,i)}(t.sham||i&&i.sham)&&N(c,"sham",!0),M(n,r,c,t)}},q=!!Object.getOwnPropertySymbols&&!W(function(){return!String(Symbol())}),Rn=q&&!Symbol.sham&&typeof Symbol.iterator=="symbol",le=ht("wks"),Yt=B.Symbol,xi=Rn?Yt:Yt&&Yt.withoutSetter||Ut,S=function(t){return C(le,t)||(q&&C(Yt,t)?le[t]=Yt[t]:le[t]=xi("Symbol."+t)),le[t]},Ai=S("match"),Qn=function(t){if(function(e){var n;return x(e)&&((n=e[Ai])!==void 0?!!n:gt(e)=="RegExp")}(t))throw TypeError("The method doesn't accept regular expressions");return t},Ri=S("match"),Wn=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Ri]=!1,"/./"[t](e)}catch(r){}}return!1},Qi=Lt.f,Jn="".startsWith,Wi=Math.min,kn=Wn("startsWith"),Ji=!(kn||(we=Qi(String.prototype,"startsWith"),!we||we.writable));k({target:"String",proto:!0,forced:!Ji&&!kn},{startsWith:function(t){var e=String(kt(this));Qn(t);var n=Zt(Wi(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Jn?Jn.call(e,r,n):e.slice(n,n+r.length)===r}});var Vt,de,Ln=function(t){if(typeof t!="function")throw TypeError(String(t)+" is not a function");return t},Ot=function(t,e,n){if(Ln(t),e===void 0)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,c){return t.call(e,r,i,c)}}return function(){return t.apply(e,arguments)}},ki=Function.call,Ae=function(t,e,n){return Ot(ki,B[t].prototype[e],n)},fe=(Ae("String","startsWith"),Array.isArray||function(t){return gt(t)=="Array"}),Kt=function(t){return Object(kt(t))},ge=function(t,e,n){var r=Bt(e);r in t?H.f(t,r,ft(0,n)):t[r]=n},Li=S("species"),Hn=function(t,e){var n;return fe(t)&&(typeof(n=t.constructor)!="function"||n!==Array&&!fe(n.prototype)?x(n)&&(n=n[Li])===null&&(n=void 0):n=void 0),new(n===void 0?Array:n)(e===0?0:e)},Re=Tt("navigator","userAgent")||"",En=B.process,Tn=En&&En.versions,Nn=Tn&&Tn.v8;Nn?de=(Vt=Nn.split("."))[0]+Vt[1]:Re&&(!(Vt=Re.match(/Edge\/(\d+)/))||Vt[1]>=74)&&(Vt=Re.match(/Chrome\/(\d+)/))&&(de=Vt[1]);var Yn=de&&+de,Hi=S("species"),On=S("isConcatSpreadable"),Ei=Yn>=51||!W(function(){var t=[];return t[On]=!1,t.concat()[0]!==t}),Ti=function(t){return Yn>=51||!W(function(){var e=[];return(e.constructor={})[Hi]=function(){return{foo:1}},e[t](Boolean).foo!==1})}("concat"),Ni=function(t){if(!x(t))return!1;var e=t[On];return e!==void 0?!!e:fe(t)};k({target:"Array",proto:!0,forced:!Ei||!Ti},{concat:function(t){var e,n,r,i,c,u=Kt(this),o=Hn(u,0),a=0;for(e=-1,r=arguments.length;e<r;e++)if(Ni(c=e===-1?u:arguments[e])){if(a+(i=Zt(c.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,a++)n in c&&ge(o,a,c[n])}else{if(a>=9007199254740991)throw TypeError("Maximum allowed index exceeded");ge(o,a++,c)}return o.length=a,o}});var Kn={};Kn[S("toStringTag")]="z";var Qe=String(Kn)==="[object z]",Yi=S("toStringTag"),Oi=gt(function(){return arguments}())=="Arguments",Ie=Qe?gt:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=function(i,c){try{return i[c]}catch(u){}}(e=Object(t),Yi))=="string"?n:Oi?gt(e):(r=gt(e))=="Object"&&typeof e.callee=="function"?"Arguments":r},Ki=Qe?{}.toString:function(){return"[object "+Ie(this)+"]"};Qe||M(Object.prototype,"toString",Ki,{unsafe:!0});var We,Je=Object.keys||function(t){return xn(t,ue)},_i=X?Object.defineProperties:function(t,e){L(t);for(var n,r=Je(e),i=r.length,c=0;i>c;)H.f(t,n=r[c++],e[n]);return t},zi=Tt("document","documentElement"),_n=se("IE_PROTO"),ke=function(){},zn=function(t){return"<script>"+t+"</script>"},he=function(){try{We=document.domain&&new ActiveXObject("htmlfile")}catch(r){}var t,e;he=We?function(r){r.write(zn("")),r.close();var i=r.parentWindow.Object;return r=null,i}(We):((e=Cn("iframe")).style.display="none",zi.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(zn("document.F=Object")),t.close(),t.F);for(var n=ue.length;n--;)delete he.prototype[ue[n]];return he()};Ft[_n]=!0;var ot=Object.create||function(t,e){var n;return t!==null?(ke.prototype=L(t),n=new ke,ke.prototype=null,n[_n]=t):n=he(),e===void 0?n:_i(n,e)},jn=Xe.f,ji={}.toString,Pn=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Dn={f:function(t){return Pn&&ji.call(t)=="[object Window]"?function(e){try{return jn(e)}catch(n){return Pn.slice()}}(t):jn(D(t))}},Mn={f:S},Pi=H.f,E=function(t){var e=it.Symbol||(it.Symbol={});C(e,t)||Pi(e,t,{value:Mn.f(t)})},Di=H.f,qn=S("toStringTag"),pt=function(t,e,n){t&&!C(t=n?t:t.prototype,qn)&&Di(t,qn,{configurable:!0,value:e})},$n=[].push,ct=function(t){var e=t==1,n=t==2,r=t==3,i=t==4,c=t==6,u=t==7,o=t==5||c;return function(a,s,l,f){for(var d,I,p=Kt(a),b=vn(p),h=Ot(s,l,3),g=Zt(b.length),y=0,m=f||Hn,v=e?m(a,g):n||u?m(a,0):void 0;g>y;y++)if((o||y in b)&&(I=h(d=b[y],y,p),t))if(e)v[y]=I;else if(I)switch(t){case 3:return!0;case 5:return d;case 6:return y;case 2:$n.call(v,d)}else switch(t){case 4:return!1;case 7:$n.call(v,d)}return c?-1:r||i?i:v}},pe={forEach:ct(0),map:ct(1),filter:ct(2),some:ct(3),every:ct(4),find:ct(5),findIndex:ct(6),filterOut:ct(7)}.forEach,T=se("hidden"),tr=S("toPrimitive"),Mi=j.set,er=j.getterFor("Symbol"),_=Object.prototype,Y=B.Symbol,_t=Tt("JSON","stringify"),nr=Lt.f,st=H.f,rr=Dn.f,qi=Se.f,$=ht("symbols"),zt=ht("op-symbols"),Le=ht("string-to-symbol-registry"),He=ht("symbol-to-string-registry"),$i=ht("wks"),Ee=B.QObject,Te=!Ee||!Ee.prototype||!Ee.prototype.findChild,Ne=X&&W(function(){return ot(st({},"a",{get:function(){return st(this,"a",{value:7}).a}})).a!=7})?function(t,e,n){var r=nr(_,e);r&&delete _[e],st(t,e,n),r&&t!==_&&st(_,e,r)}:st,Ye=function(t,e){var n=$[t]=ot(Y.prototype);return Mi(n,{type:"Symbol",tag:t,description:e}),X||(n.description=e),n},Oe=Rn?function(t){return typeof t=="symbol"}:function(t){return Object(t)instanceof Y},ye=function(t,e,n){t===_&&ye(zt,e,n),L(t);var r=Bt(e,!0);return L(n),C($,r)?(n.enumerable?(C(t,T)&&t[T][r]&&(t[T][r]=!1),n=ot(n,{enumerable:ft(0,!1)})):(C(t,T)||st(t,T,ft(1,{})),t[T][r]=!0),Ne(t,r,n)):st(t,r,n)},ir=function(t,e){L(t);var n=D(e),r=Je(n).concat(_e(n));return pe(r,function(i){X&&!Ke.call(n,i)||ye(t,i,n[i])}),t},Ke=function(t){var e=Bt(t,!0),n=qi.call(this,e);return!(this===_&&C($,e)&&!C(zt,e))&&(!(n||!C(this,e)||!C($,e)||C(this,T)&&this[T][e])||n)},or=function(t,e){var n=D(t),r=Bt(e,!0);if(n!==_||!C($,r)||C(zt,r)){var i=nr(n,r);return!i||!C($,r)||C(n,T)&&n[T][r]||(i.enumerable=!0),i}},cr=function(t){var e=rr(D(t)),n=[];return pe(e,function(r){C($,r)||C(Ft,r)||n.push(r)}),n},_e=function(t){var e=t===_,n=rr(e?zt:D(t)),r=[];return pe(n,function(i){!C($,i)||e&&!C(_,i)||r.push($[i])}),r};if(q||(M((Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var t=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,e=Ut(t),n=function(r){this===_&&n.call(zt,r),C(this,T)&&C(this[T],e)&&(this[T][e]=!1),Ne(this,e,ft(1,r))};return X&&Te&&Ne(_,e,{configurable:!0,set:n}),Ye(e,t)}).prototype,"toString",function(){return er(this).tag}),M(Y,"withoutSetter",function(t){return Ye(Ut(t),t)}),Se.f=Ke,H.f=ye,Lt.f=or,Xe.f=Dn.f=cr,ae.f=_e,Mn.f=function(t){return Ye(S(t),t)},X&&(st(Y.prototype,"description",{configurable:!0,get:function(){return er(this).description}}),M(_,"propertyIsEnumerable",Ke,{unsafe:!0}))),k({global:!0,wrap:!0,forced:!q,sham:!q},{Symbol:Y}),pe(Je($i),function(t){E(t)}),k({target:"Symbol",stat:!0,forced:!q},{for:function(t){var e=String(t);if(C(Le,e))return Le[e];var n=Y(e);return Le[e]=n,He[n]=e,n},keyFor:function(t){if(!Oe(t))throw TypeError(t+" is not a symbol");if(C(He,t))return He[t]},useSetter:function(){Te=!0},useSimple:function(){Te=!1}}),k({target:"Object",stat:!0,forced:!q,sham:!X},{create:function(t,e){return e===void 0?ot(t):ir(ot(t),e)},defineProperty:ye,defineProperties:ir,getOwnPropertyDescriptor:or}),k({target:"Object",stat:!0,forced:!q},{getOwnPropertyNames:cr,getOwnPropertySymbols:_e}),k({target:"Object",stat:!0,forced:W(function(){ae.f(1)})},{getOwnPropertySymbols:function(t){return ae.f(Kt(t))}}),_t){var to=!q||W(function(){var t=Y();return _t([t])!="[null]"||_t({a:t})!="{}"||_t(Object(t))!="{}"});k({target:"JSON",stat:!0,forced:to},{stringify:function(t,e,n){for(var r,i=[t],c=1;arguments.length>c;)i.push(arguments[c++]);if(r=e,(x(e)||t!==void 0)&&!Oe(t))return fe(e)||(e=function(u,o){if(typeof r=="function"&&(o=r.call(this,u,o)),!Oe(o))return o}),i[1]=e,_t.apply(null,i)}})}Y.prototype[tr]||N(Y.prototype,tr,Y.prototype.valueOf),pt(Y,"Symbol"),Ft[T]=!0,E("asyncIterator");var eo=H.f,tt=B.Symbol;if(X&&typeof tt=="function"&&(!("description"in tt.prototype)||tt().description!==void 0)){var sr={},jt=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),e=this instanceof jt?new tt(t):t===void 0?tt():tt(t);return t===""&&(sr[e]=!0),e};An(jt,tt);var ze=jt.prototype=tt.prototype;ze.constructor=jt;var no=ze.toString,ro=String(tt("test"))=="Symbol(test)",io=/^Symbol\((.*)\)[^)]+$/;eo(ze,"description",{configurable:!0,get:function(){var t=x(this)?this.valueOf():this,e=no.call(t);if(C(sr,t))return"";var n=ro?e.slice(7,-1):e.replace(io,"$1");return n===""?void 0:n}}),k({global:!0,forced:!0},{Symbol:jt})}E("hasInstance"),E("isConcatSpreadable"),E("iterator"),E("match"),E("matchAll"),E("replace"),E("search"),E("species"),E("split"),E("toPrimitive"),E("toStringTag"),E("unscopables"),pt(B.JSON,"JSON",!0),pt(Math,"Math",!0),k({global:!0},{Reflect:{}}),pt(B.Reflect,"Reflect",!0),it.Symbol;var wt,ur,ar,lr=function(t){return function(e,n){var r,i,c=String(kt(e)),u=Ge(n),o=c.length;return u<0||u>=o?t?"":void 0:(r=c.charCodeAt(u))<55296||r>56319||u+1===o||(i=c.charCodeAt(u+1))<56320||i>57343?t?c.charAt(u):r:t?c.slice(u,u+2):i-56320+(r-55296<<10)+65536}},oo={codeAt:lr(!1),charAt:lr(!0)},co=!W(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),dr=se("IE_PROTO"),so=Object.prototype,yt=co?Object.getPrototypeOf:function(t){return t=Kt(t),C(t,dr)?t[dr]:typeof t.constructor=="function"&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?so:null},fr=S("iterator"),gr=!1;[].keys&&("next"in(ar=[].keys())?(ur=yt(yt(ar)))!==Object.prototype&&(wt=ur):gr=!0),wt==null&&(wt={}),C(wt,fr)||N(wt,fr,function(){return this});var je={IteratorPrototype:wt,BUGGY_SAFARI_ITERATORS:gr},Gt={},uo=je.IteratorPrototype,ao=function(){return this},et=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(r){}return function(r,i){return L(r),function(c){if(!x(c)&&c!==null)throw TypeError("Can't set "+String(c)+" as a prototype")}(i),e?t.call(r,i):r.__proto__=i,r}}():void 0),Pe=je.IteratorPrototype,be=je.BUGGY_SAFARI_ITERATORS,Pt=S("iterator"),lo=function(){return this},De=function(t,e,n,r,i,c,u){(function(g,y,m){var v=y+" Iterator";g.prototype=ot(uo,{next:ft(1,m)}),pt(g,v,!1),Gt[v]=ao})(n,e,r);var o,a,s,l=function(g){if(g===i&&b)return b;if(!be&&g in I)return I[g];switch(g){case"keys":case"values":case"entries":return function(){return new n(this,g)}}return function(){return new n(this)}},f=e+" Iterator",d=!1,I=t.prototype,p=I[Pt]||I["@@iterator"]||i&&I[i],b=!be&&p||l(i),h=e=="Array"&&I.entries||p;if(h&&(o=yt(h.call(new t)),Pe!==Object.prototype&&o.next&&(yt(o)!==Pe&&(et?et(o,Pe):typeof o[Pt]!="function"&&N(o,Pt,lo)),pt(o,f,!0))),i=="values"&&p&&p.name!=="values"&&(d=!0,b=function(){return p.call(this)}),I[Pt]!==b&&N(I,Pt,b),Gt[e]=b,i)if(a={values:l("values"),keys:c?b:l("keys"),entries:l("entries")},u)for(s in a)(be||d||!(s in I))&&M(I,s,a[s]);else k({target:e,proto:!0,forced:be||d},a);return a},fo=oo.charAt,go=j.set,Io=j.getterFor("String Iterator");De(String,"String",function(t){go(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=Io(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=fo(n,r),e.index+=t.length,{value:t,done:!1})});var Me=function(t){var e=t.return;if(e!==void 0)return L(e.call(t)).value},ho=function(t,e,n,r){try{return r?e(L(n)[0],n[1]):e(n)}catch(i){throw Me(t),i}},po=S("iterator"),yo=Array.prototype,Ir=function(t){return t!==void 0&&(Gt.Array===t||yo[po]===t)},bo=S("iterator"),hr=function(t){if(t!=null)return t[bo]||t["@@iterator"]||Gt[Ie(t)]},pr=S("iterator"),yr=!1;try{var mo=0,br={next:function(){return{done:!!mo++}},return:function(){yr=!0}};br[pr]=function(){return this},Array.from(br,function(){throw 2})}catch(t){}var mr=function(t,e){if(!e&&!yr)return!1;var n=!1;try{var r={};r[pr]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(i){}return n},vo=!mr(function(t){Array.from(t)});k({target:"Array",stat:!0,forced:vo},{from:function(t){var e,n,r,i,c,u,o=Kt(t),a=typeof this=="function"?this:Array,s=arguments.length,l=s>1?arguments[1]:void 0,f=l!==void 0,d=hr(o),I=0;if(f&&(l=Ot(l,s>2?arguments[2]:void 0,2)),d==null||a==Array&&Ir(d))for(n=new a(e=Zt(o.length));e>I;I++)u=f?l(o[I],I):o[I],ge(n,I,u);else for(c=(i=d.call(o)).next,n=new a;!(r=c.call(i)).done;I++)u=f?ho(i,l,[r.value,I],!0):r.value,ge(n,I,u);return n.length=I,n}}),it.Array.from;var O,Co=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined",Bo=H.f,me=B.Int8Array,qe=me&&me.prototype,vr=B.Uint8ClampedArray,Cr=vr&&vr.prototype,Xt=me&&yt(me),P=qe&&yt(qe),Br=Object.prototype,Ur=Br.isPrototypeOf,Fr=S("toStringTag"),Sr=Ut("TYPED_ARRAY_TAG"),bt=Co&&!!et&&Ie(B.opera)!=="Opera",ut={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Uo=function(t){return x(t)&&C(ut,Ie(t))};for(O in ut)B[O]||(bt=!1);if((!bt||typeof Xt!="function"||Xt===Function.prototype)&&(Xt=function(){throw TypeError("Incorrect invocation")},bt))for(O in ut)B[O]&&et(B[O],Xt);if((!bt||!P||P===Br)&&(P=Xt.prototype,bt))for(O in ut)B[O]&&et(B[O].prototype,P);if(bt&&yt(Cr)!==P&&et(Cr,P),X&&!C(P,Fr))for(O in Bo(P,Fr,{get:function(){return x(this)?this[Sr]:void 0}}),ut)B[O]&&N(B[O],Sr,O);var Fo=function(t){if(Uo(t))return t;throw TypeError("Target is not a typed array")},So=function(t){if(et){if(Ur.call(Xt,t))return t}else for(var e in ut)if(C(ut,O)){var n=B[e];if(n&&(t===n||Ur.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},Zo=function(t,e,n){if(X){if(n)for(var r in ut){var i=B[r];i&&C(i.prototype,t)&&delete i.prototype[t]}P[t]&&!n||M(P,t,n?e:bt&&qe[t]||e)}},Vo=S("species"),wo=Fo,Go=So,Xo=[].slice;Zo("slice",function(t,e){for(var n=Xo.call(wo(this),t,e),r=function(o,a){var s,l=L(o).constructor;return l===void 0||(s=L(l)[Vo])==null?a:Ln(s)}(this,this.constructor),i=0,c=n.length,u=new(Go(r))(c);c>i;)u[i]=n[i++];return u},W(function(){new Int8Array(1).slice()}));var $e=S("unscopables"),tn=Array.prototype;tn[$e]==null&&H.f(tn,$e,{configurable:!0,value:ot(null)});var ve=function(t){tn[$e][t]=!0},xo=Object.defineProperty,en={},Zr=function(t){throw t},Ao=Xn.includes,Ro=function(t,e){if(C(en,t))return en[t];e||(e={});var n=[][t],r=!!C(e,"ACCESSORS")&&e.ACCESSORS,i=C(e,0)?e[0]:Zr,c=C(e,1)?e[1]:void 0;return en[t]=!!n&&!W(function(){if(r&&!X)return!0;var u={length:-1};r?xo(u,1,{enumerable:!0,get:Zr}):u[1]=1,n.call(u,i,c)})}("indexOf",{ACCESSORS:!0,1:0});k({target:"Array",proto:!0,forced:!Ro},{includes:function(t){return Ao(this,t,arguments.length>1?arguments[1]:void 0)}}),ve("includes"),Ae("Array","includes"),k({target:"String",proto:!0,forced:!Wn("includes")},{includes:function(t){return!!~String(kt(this)).indexOf(Qn(t),arguments.length>1?arguments[1]:void 0)}}),Ae("String","includes");var Qo=!W(function(){return Object.isExtensible(Object.preventExtensions({}))}),xt=Ct(function(t){var e=H.f,n=Ut("meta"),r=0,i=Object.isExtensible||function(){return!0},c=function(o){e(o,n,{value:{objectID:"O"+ ++r,weakData:{}}})},u=t.exports={REQUIRED:!1,fastKey:function(o,a){if(!x(o))return typeof o=="symbol"?o:(typeof o=="string"?"S":"P")+o;if(!C(o,n)){if(!i(o))return"F";if(!a)return"E";c(o)}return o[n].objectID},getWeakData:function(o,a){if(!C(o,n)){if(!i(o))return!0;if(!a)return!1;c(o)}return o[n].weakData},onFreeze:function(o){return Qo&&u.REQUIRED&&i(o)&&!C(o,n)&&c(o),o}};Ft[n]=!0}),Dt=(xt.REQUIRED,xt.fastKey,xt.getWeakData,xt.onFreeze,function(t,e){this.stopped=t,this.result=e}),Vr=function(t,e,n){var r,i,c,u,o,a,s,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),I=!(!n||!n.INTERRUPTED),p=Ot(e,l,1+f+I),b=function(g){return r&&Me(r),new Dt(!0,g)},h=function(g){return f?(L(g),I?p(g[0],g[1],b):p(g[0],g[1])):I?p(g,b):p(g)};if(d)r=t;else{if(typeof(i=hr(t))!="function")throw TypeError("Target is not iterable");if(Ir(i)){for(c=0,u=Zt(t.length);u>c;c++)if((o=h(t[c]))&&o instanceof Dt)return o;return new Dt(!1)}r=i.call(t)}for(a=r.next;!(s=a.call(r)).done;){try{o=h(s.value)}catch(g){throw Me(r),g}if(typeof o=="object"&&o&&o instanceof Dt)return o}return new Dt(!1)},wr=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Gr=function(t,e,n){for(var r in e)M(t,r,e[r],n);return t},Xr=S("species"),Wo=H.f,xr=xt.fastKey,Ar=j.set,nn=j.getterFor,Rr=(function(t,e,n){var r=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,c=r?"set":"add",u=B[t],o=u&&u.prototype,a=u,s={},l=function(h){var g=o[h];M(o,h,h=="add"?function(y){return g.call(this,y===0?0:y),this}:h=="delete"?function(y){return!(i&&!x(y))&&g.call(this,y===0?0:y)}:h=="get"?function(y){return i&&!x(y)?void 0:g.call(this,y===0?0:y)}:h=="has"?function(y){return!(i&&!x(y))&&g.call(this,y===0?0:y)}:function(y,m){return g.call(this,y===0?0:y,m),this})};if(xe(t,typeof u!="function"||!(i||o.forEach&&!W(function(){new u().entries().next()}))))a=n.getConstructor(e,t,r,c),xt.REQUIRED=!0;else if(xe(t,!0)){var f=new a,d=f[c](i?{}:-0,1)!=f,I=W(function(){f.has(1)}),p=mr(function(h){new u(h)}),b=!i&&W(function(){for(var h=new u,g=5;g--;)h[c](g,g);return!h.has(-0)});p||((a=e(function(h,g){wr(h,a,t);var y=function(m,v,A){var R,F;return et&&typeof(R=v.constructor)=="function"&&R!==A&&x(F=R.prototype)&&F!==A.prototype&&et(m,F),m}(new u,h,a);return g!=null&&Vr(g,y[c],{that:y,AS_ENTRIES:r}),y})).prototype=o,o.constructor=a),(I||b)&&(l("delete"),l("has"),r&&l("get")),(b||d)&&l(c),i&&o.clear&&delete o.clear}s[t]=a,k({global:!0,forced:a!=u},s),pt(a,t),i||n.setStrong(a,t,r)}("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(t,e,n,r){var i=t(function(a,s){wr(a,i,e),Ar(a,{type:e,index:ot(null),first:void 0,last:void 0,size:0}),X||(a.size=0),s!=null&&Vr(s,a[r],{that:a,AS_ENTRIES:n})}),c=nn(e),u=function(a,s,l){var f,d,I=c(a),p=o(a,s);return p?p.value=l:(I.last=p={index:d=xr(s,!0),key:s,value:l,previous:f=I.last,next:void 0,removed:!1},I.first||(I.first=p),f&&(f.next=p),X?I.size++:a.size++,d!=="F"&&(I.index[d]=p)),a},o=function(a,s){var l,f=c(a),d=xr(s);if(d!=="F")return f.index[d];for(l=f.first;l;l=l.next)if(l.key==s)return l};return Gr(i.prototype,{clear:function(){for(var a=c(this),s=a.index,l=a.first;l;)l.removed=!0,l.previous&&(l.previous=l.previous.next=void 0),delete s[l.index],l=l.next;a.first=a.last=void 0,X?a.size=0:this.size=0},delete:function(a){var s=this,l=c(s),f=o(s,a);if(f){var d=f.next,I=f.previous;delete l.index[f.index],f.removed=!0,I&&(I.next=d),d&&(d.previous=I),l.first==f&&(l.first=d),l.last==f&&(l.last=I),X?l.size--:s.size--}return!!f},forEach:function(a){for(var s,l=c(this),f=Ot(a,arguments.length>1?arguments[1]:void 0,3);s=s?s.next:l.first;)for(f(s.value,s.key,this);s&&s.removed;)s=s.previous},has:function(a){return!!o(this,a)}}),Gr(i.prototype,n?{get:function(a){var s=o(this,a);return s&&s.value},set:function(a,s){return u(this,a===0?0:a,s)}}:{add:function(a){return u(this,a=a===0?0:a,a)}}),X&&Wo(i.prototype,"size",{get:function(){return c(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=nn(e),c=nn(r);De(t,e,function(u,o){Ar(this,{type:r,target:u,state:i(u),kind:o,last:void 0})},function(){for(var u=c(this),o=u.kind,a=u.last;a&&a.removed;)a=a.previous;return u.target&&(u.last=a=a?a.next:u.state.first)?o=="keys"?{value:a.key,done:!1}:o=="values"?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(u.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),function(u){var o=Tt(u),a=H.f;X&&o&&!o[Xr]&&a(o,Xr,{configurable:!0,get:function(){return this}})}(e)}}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Jo=j.set,ko=j.getterFor("Array Iterator"),Mt=De(Array,"Array",function(t,e){Jo(this,{type:"Array Iterator",target:D(t),index:0,kind:e})},function(){var t=ko(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:r,done:!1}:n=="values"?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");Gt.Arguments=Gt.Array,ve("keys"),ve("values"),ve("entries");var rn=S("iterator"),Qr=S("toStringTag"),on=Mt.values;for(var cn in Rr){var Wr=B[cn],nt=Wr&&Wr.prototype;if(nt){if(nt[rn]!==on)try{N(nt,rn,on)}catch(t){nt[rn]=on}if(nt[Qr]||N(nt,Qr,cn),Rr[cn]){for(var At in Mt)if(nt[At]!==Mt[At])try{N(nt,At,Mt[At])}catch(t){nt[At]=Mt[At]}}}}it.Set;function Jr(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}function kr(t){return new this(function(e,n){if(!t||t.length===void 0)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(r.length===0)return e([]);var i=r.length;function c(o,a){if(a&&(typeof a=="object"||typeof a=="function")){var s=a.then;if(typeof s=="function")return void s.call(a,function(l){c(o,l)},function(l){r[o]={status:"rejected",reason:l},--i==0&&e(r)})}r[o]={status:"fulfilled",value:a},--i==0&&e(r)}for(var u=0;u<r.length;u++)c(u,r[u])})}var Lo=setTimeout;function Lr(t){return Boolean(t&&t.length!==void 0)}function Ho(){}function Z(t){if(!(this instanceof Z))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Er(t,this)}function Hr(t,e){for(;t._state===3;)t=t._value;t._state!==0?(t._handled=!0,Z._immediateFn(function(){var n=t._state===1?e.onFulfilled:e.onRejected;if(n!==null){var r;try{r=n(t._value)}catch(i){return void qt(e.promise,i)}sn(e.promise,r)}else(t._state===1?sn:qt)(e.promise,t._value)})):t._deferreds.push(e)}function sn(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var n=e.then;if(e instanceof Z)return t._state=3,t._value=e,void un(t);if(typeof n=="function")return void Er((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,un(t)}catch(c){qt(t,c)}var r,i}function qt(t,e){t._state=2,t._value=e,un(t)}function un(t){t._state===2&&t._deferreds.length===0&&Z._immediateFn(function(){t._handled||Z._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)Hr(t,t._deferreds[e]);t._deferreds=null}function Eo(t,e,n){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=n}function Er(t,e){var n=!1;try{t(function(r){n||(n=!0,sn(e,r))},function(r){n||(n=!0,qt(e,r))})}catch(r){if(n)return;n=!0,qt(e,r)}}Z.prototype.catch=function(t){return this.then(null,t)},Z.prototype.then=function(t,e){var n=new this.constructor(Ho);return Hr(this,new Eo(t,e,n)),n},Z.prototype.finally=Jr,Z.all=function(t){return new Z(function(e,n){if(!Lr(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(r.length===0)return e([]);var i=r.length;function c(o,a){try{if(a&&(typeof a=="object"||typeof a=="function")){var s=a.then;if(typeof s=="function")return void s.call(a,function(l){c(o,l)},n)}r[o]=a,--i==0&&e(r)}catch(l){n(l)}}for(var u=0;u<r.length;u++)c(u,r[u])})},Z.allSettled=kr,Z.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Z?t:new Z(function(e){e(t)})},Z.reject=function(t){return new Z(function(e,n){n(t)})},Z.race=function(t){return new Z(function(e,n){if(!Lr(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)Z.resolve(t[r]).then(e,n)})},Z._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){Lo(t,0)},Z._unhandledRejectionFn=function(t){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Rt=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}();typeof Rt.Promise!="function"?Rt.Promise=Z:Rt.Promise.prototype.finally?Rt.Promise.allSettled||(Rt.Promise.allSettled=kr):Rt.Promise.prototype.finally=Jr,function(t){function e(){}function n(u,o){if(u=u===void 0?"utf-8":u,o=o===void 0?{fatal:!1}:o,i.indexOf(u.toLowerCase())===-1)throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+u+"') is invalid.");if(o.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function r(u){for(var o=0,a=Math.min(65536,u.length+1),s=new Uint16Array(a),l=[],f=0;;){var d=o<u.length;if(!d||f>=a-1){if(l.push(String.fromCharCode.apply(null,s.subarray(0,f))),!d)return l.join("");u=u.subarray(o),f=o=0}if((128&(d=u[o++]))==0)s[f++]=d;else if((224&d)==192){var I=63&u[o++];s[f++]=(31&d)<<6|I}else if((240&d)==224){I=63&u[o++];var p=63&u[o++];s[f++]=(31&d)<<12|I<<6|p}else(248&d)==240&&(65535<(d=(7&d)<<18|(I=63&u[o++])<<12|(p=63&u[o++])<<6|63&u[o++])&&(d-=65536,s[f++]=d>>>10&1023|55296,d=56320|1023&d),s[f++]=d)}}if(t.TextEncoder&&t.TextDecoder)return!1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(u,o){if((o=o===void 0?{stream:!1}:o).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");o=0;for(var a=u.length,s=0,l=Math.max(32,a+(a>>>1)+7),f=new Uint8Array(l>>>3<<3);o<a;){var d=u.charCodeAt(o++);if(55296<=d&&56319>=d){if(o<a){var I=u.charCodeAt(o);(64512&I)==56320&&(++o,d=((1023&d)<<10)+(1023&I)+65536)}if(55296<=d&&56319>=d)continue}if(s+4>f.length&&(l+=8,l=(l*=1+o/u.length*2)>>>3<<3,(I=new Uint8Array(l)).set(f),f=I),(4294967168&d)==0)f[s++]=d;else{if((4294965248&d)==0)f[s++]=d>>>6&31|192;else if((4294901760&d)==0)f[s++]=d>>>12&15|224,f[s++]=d>>>6&63|128;else{if((4292870144&d)!=0)continue;f[s++]=d>>>18&7|240,f[s++]=d>>>12&63|128,f[s++]=d>>>6&63|128}f[s++]=63&d|128}}return f.slice?f.slice(0,s):f.subarray(0,s)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var c=r;typeof Buffer=="function"&&Buffer.from?c=function(u){return Buffer.from(u.buffer,u.byteOffset,u.byteLength).toString("utf-8")}:typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&(c=function(u){var o=URL.createObjectURL(new Blob([u],{type:"text/plain;charset=UTF-8"}));try{var a=new XMLHttpRequest;return a.open("GET",o,!1),a.send(),a.responseText}catch(s){return r(u)}finally{URL.revokeObjectURL(o)}}),n.prototype.decode=function(u,o){if((o=o===void 0?{stream:!1}:o).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return u=u instanceof Uint8Array?u:u.buffer instanceof ArrayBuffer?new Uint8Array(u.buffer):new Uint8Array(u),c(u)},t.TextEncoder=e,t.TextDecoder=n}(typeof window!="undefined"?window:z),function(){function t(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function e(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}function n(h,g,y){return g&&e(h.prototype,g),y&&e(h,y),h}function r(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),g&&c(h,g)}function i(h){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(h)}function c(h,g){return(c=Object.setPrototypeOf||function(y,m){return y.__proto__=m,y})(h,g)}function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(h){return!1}}function o(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function a(h,g){return!g||typeof g!="object"&&typeof g!="function"?o(h):g}function s(h){var g=u();return function(){var y,m=i(h);if(g){var v=i(this).constructor;y=Reflect.construct(m,arguments,v)}else y=m.apply(this,arguments);return a(this,y)}}function l(h,g){for(;!Object.prototype.hasOwnProperty.call(h,g)&&(h=i(h))!==null;);return h}function f(h,g,y){return(f=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(m,v,A){var R=l(m,v);if(R){var F=Object.getOwnPropertyDescriptor(R,v);return F.get?F.get.call(A):F.value}})(h,g,y||h)}var d=function(){function h(){t(this,h),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(h,[{key:"addEventListener",value:function(g,y){g in this.listeners||(this.listeners[g]=[]),this.listeners[g].push(y)}},{key:"removeEventListener",value:function(g,y){if(g in this.listeners){for(var m=this.listeners[g],v=0,A=m.length;v<A;v++)if(m[v]===y)return void m.splice(v,1)}}},{key:"dispatchEvent",value:function(g){var y=this;if(g.type in this.listeners){for(var m=function(F){setTimeout(function(){return F.call(y,g)})},v=this.listeners[g.type],A=0,R=v.length;A<R;A++)m(v[A]);return!g.defaultPrevented}}}]),h}(),I=function(h){r(y,h);var g=s(y);function y(){var m;return t(this,y),(m=g.call(this)).listeners||d.call(o(m)),Object.defineProperty(o(m),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(m),"onabort",{value:null,writable:!0,configurable:!0}),m}return n(y,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(m){m.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,m)),f(i(y.prototype),"dispatchEvent",this).call(this,m)}}]),y}(d),p=function(){function h(){t(this,h),Object.defineProperty(this,"signal",{value:new I,writable:!0,configurable:!0})}return n(h,[{key:"abort",value:function(){var g;try{g=new Event("abort")}catch(y){typeof document!="undefined"?document.createEvent?(g=document.createEvent("Event")).initEvent("abort",!1,!1):(g=document.createEventObject()).type="abort":g={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(g)}},{key:"toString",value:function(){return"[object AbortController]"}}]),h}();function b(h){return h.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof h.Request=="function"&&!h.Request.prototype.hasOwnProperty("signal")||!h.AbortController}typeof Symbol!="undefined"&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]="AbortController",I.prototype[Symbol.toStringTag]="AbortSignal"),function(h){b(h)&&(h.AbortController=p,h.AbortSignal=I)}(typeof self!="undefined"?self:z)}();var mt=Ct(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(c,u){var o=i.locked.get(c);o===void 0?u===void 0?i.locked.set(c,[]):i.locked.set(c,[u]):u!==void 0&&(o.unshift(u),i.locked.set(c,o))},this.isLocked=function(c){return i.locked.has(c)},this.lock=function(c){return new Promise(function(u,o){i.isLocked(c)?i.addToLocked(c,u):(i.addToLocked(c),u())})},this.unlock=function(c){var u=i.locked.get(c);if(u!==void 0&&u.length!==0){var o=u.pop();i.locked.set(c,u),o!==void 0&&setTimeout(o,0)}else i.locked.delete(c)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();e.default=function(){return n.getInstance()}});Fe(mt);var To=Fe(Ct(function(t,e){var n=z&&z.__awaiter||function(a,s,l,f){return new(l||(l=Promise))(function(d,I){function p(g){try{h(f.next(g))}catch(y){I(y)}}function b(g){try{h(f.throw(g))}catch(y){I(y)}}function h(g){g.done?d(g.value):new l(function(y){y(g.value)}).then(p,b)}h((f=f.apply(a,s||[])).next())})},r=z&&z.__generator||function(a,s){var l,f,d,I,p={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return I={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function b(h){return function(g){return function(y){if(l)throw new TypeError("Generator is already executing.");for(;p;)try{if(l=1,f&&(d=2&y[0]?f.return:y[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,y[1])).done)return d;switch(f=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=y;break;case 4:return p.label++,{value:y[1],done:!1};case 5:p.label++,f=y[1],y=[0];continue;case 7:y=p.ops.pop(),p.trys.pop();continue;default:if(d=p.trys,!((d=d.length>0&&d[d.length-1])||y[0]!==6&&y[0]!==2)){p=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){p.label=y[1];break}if(y[0]===6&&p.label<d[1]){p.label=d[1],d=y;break}if(d&&p.label<d[2]){p.label=d[2],p.ops.push(y);break}d[2]&&p.ops.pop(),p.trys.pop();continue}y=s.call(a,p)}catch(m){y=[6,m],f=0}finally{l=d=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([h,g])}}};Object.defineProperty(e,"__esModule",{value:!0});var i="browser-tabs-lock-key";function c(a){return new Promise(function(s){return setTimeout(s,a)})}function u(a){for(var s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",l="",f=0;f<a;f++)l+=s[Math.floor(Math.random()*s.length)];return l}var o=function(){function a(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+u(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),a.waiters===void 0&&(a.waiters=[])}return a.prototype.acquireLock=function(s,l){return l===void 0&&(l=5e3),n(this,void 0,void 0,function(){var f,d,I,p,b,h;return r(this,function(g){switch(g.label){case 0:f=Date.now()+u(4),d=Date.now()+l,I=i+"-"+s,p=window.localStorage,g.label=1;case 1:return Date.now()<d?[4,c(30)]:[3,8];case 2:return g.sent(),p.getItem(I)!==null?[3,5]:(b=this.id+"-"+s+"-"+f,[4,c(Math.floor(25*Math.random()))]);case 3:return g.sent(),p.setItem(I,JSON.stringify({id:this.id,iat:f,timeoutKey:b,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,c(30)];case 4:return g.sent(),(h=p.getItem(I))!==null&&(h=JSON.parse(h)).id===this.id&&h.iat===f?(this.acquiredIatSet.add(f),this.refreshLockWhileAcquired(I,f),[2,!0]):[3,7];case 5:return a.lockCorrector(),[4,this.waitForSomethingToChange(d)];case 6:g.sent(),g.label=7;case 7:return f=Date.now()+u(4),[3,1];case 8:return[2,!1]}})})},a.prototype.refreshLockWhileAcquired=function(s,l){return n(this,void 0,void 0,function(){var f=this;return r(this,function(d){return setTimeout(function(){return n(f,void 0,void 0,function(){var I,p;return r(this,function(b){switch(b.label){case 0:return[4,mt.default().lock(l)];case 1:return b.sent(),this.acquiredIatSet.has(l)?(I=window.localStorage,(p=I.getItem(s))===null?(mt.default().unlock(l),[2]):((p=JSON.parse(p)).timeRefreshed=Date.now(),I.setItem(s,JSON.stringify(p)),mt.default().unlock(l),this.refreshLockWhileAcquired(s,l),[2])):(mt.default().unlock(l),[2])}})})},1e3),[2]})})},a.prototype.waitForSomethingToChange=function(s){return n(this,void 0,void 0,function(){return r(this,function(l){switch(l.label){case 0:return[4,new Promise(function(f){var d=!1,I=Date.now(),p=!1;function b(){if(p||(window.removeEventListener("storage",b),a.removeFromWaiting(b),clearTimeout(h),p=!0),!d){d=!0;var g=50-(Date.now()-I);g>0?setTimeout(f,g):f()}}window.addEventListener("storage",b),a.addToWaiting(b);var h=setTimeout(b,Math.max(0,s-Date.now()))})];case 1:return l.sent(),[2]}})})},a.addToWaiting=function(s){this.removeFromWaiting(s),a.waiters!==void 0&&a.waiters.push(s)},a.removeFromWaiting=function(s){a.waiters!==void 0&&(a.waiters=a.waiters.filter(function(l){return l!==s}))},a.notifyWaiters=function(){a.waiters!==void 0&&a.waiters.slice().forEach(function(s){return s()})},a.prototype.releaseLock=function(s){return n(this,void 0,void 0,function(){return r(this,function(l){switch(l.label){case 0:return[4,this.releaseLock__private__(s)];case 1:return[2,l.sent()]}})})},a.prototype.releaseLock__private__=function(s){return n(this,void 0,void 0,function(){var l,f,d;return r(this,function(I){switch(I.label){case 0:return l=window.localStorage,f=i+"-"+s,(d=l.getItem(f))===null?[2]:(d=JSON.parse(d)).id!==this.id?[3,2]:[4,mt.default().lock(d.iat)];case 1:I.sent(),this.acquiredIatSet.delete(d.iat),l.removeItem(f),mt.default().unlock(d.iat),a.notifyWaiters(),I.label=2;case 2:return[2]}})})},a.lockCorrector=function(){for(var s=Date.now()-5e3,l=window.localStorage,f=Object.keys(l),d=!1,I=0;I<f.length;I++){var p=f[I];if(p.includes(i)){var b=l.getItem(p);b!==null&&((b=JSON.parse(b)).timeRefreshed===void 0&&b.timeAcquired<s||b.timeRefreshed!==void 0&&b.timeRefreshed<s)&&(l.removeItem(p),d=!0)}}d&&a.notifyWaiters()},a.waiters=void 0,a}();e.default=o})),No={timeoutInSeconds:60},Yo=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],Tr={name:"auth0-spa-js",version:"1.13.6"},$t=function(t){function e(n,r){var i=t.call(this,r)||this;return i.error=n,i.error_description=r,Object.setPrototypeOf(i,e.prototype),i}return re(e,t),e.fromPayload=function(n){return new e(n.error,n.error_description)},e}(Error),Oo=function(t){function e(n,r,i,c){c===void 0&&(c=null);var u=t.call(this,n,r)||this;return u.state=i,u.appState=c,Object.setPrototypeOf(u,e.prototype),u}return re(e,t),e}($t),an=function(t){function e(){var n=t.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(n,e.prototype),n}return re(e,t),e}($t),Ko=function(t){function e(n){var r=t.call(this)||this;return r.popup=n,Object.setPrototypeOf(r,e.prototype),r}return re(e,t),e}(an),_o=function(t,e,n){return n===void 0&&(n=60),new Promise(function(r,i){var c=window.document.createElement("iframe");c.setAttribute("width","0"),c.setAttribute("height","0"),c.style.display="none";var u,o=function(){window.document.body.contains(c)&&(window.document.body.removeChild(c),window.removeEventListener("message",u,!1))},a=setTimeout(function(){i(new an),o()},1e3*n);u=function(s){if(s.origin==e&&s.data&&s.data.type==="authorization_response"){var l=s.source;l&&l.close(),s.data.response.error?i($t.fromPayload(s.data.response)):r(s.data.response),clearTimeout(a),window.removeEventListener("message",u,!1),setTimeout(o,2e3)}},window.addEventListener("message",u,!1),window.document.body.appendChild(c),c.setAttribute("src",t)})},zo=function(t,e){var n,r,i,c=e.popup;if(c?c.location.href=t:(n=t,r=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2,c=window.open(n,"auth0:authorize:popup","left="+r+",top="+i+",width=400,height=600,resizable,scrollbars=yes,status=1")),!c)throw new Error("Could not open popup");return new Promise(function(u,o){var a,s=setTimeout(function(){o(new Ko(c)),window.removeEventListener("message",a,!1)},1e3*(e.timeoutInSeconds||60));a=function(l){if(l.data&&l.data.type==="authorization_response"){if(clearTimeout(s),window.removeEventListener("message",a,!1),c.close(),l.data.response.error)return o($t.fromPayload(l.data.response));u(l.data.response)}},window.addEventListener("message",a)})},ln=function(){return window.crypto||window.msCrypto},Nr=function(){var t=ln();return t.subtle||t.webkitSubtle},rt=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="";return Array.from(ln().getRandomValues(new Uint8Array(43))).forEach(function(n){return e+=t[n%t.length]}),e},Qt=function(t){return btoa(t)},Yr=function(t){return Object.keys(t).filter(function(e){return t[e]!==void 0}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")},dn=function(t){return w(void 0,void 0,void 0,function(){var e;return G(this,function(n){switch(n.label){case 0:return e=Nr().digest({name:"SHA-256"},new TextEncoder().encode(t)),window.msCrypto?[2,new Promise(function(r,i){e.oncomplete=function(c){r(c.target.result)},e.onerror=function(c){i(c.error)},e.onabort=function(){i("The digest operation was aborted")}})]:[4,e];case 1:return[2,n.sent()]}})})},Or=function(t){return function(e){return decodeURIComponent(atob(e).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(t.replace(/_/g,"/").replace(/-/g,"+"))},fn=function(t){var e=new Uint8Array(t);return function(n){var r={"+":"-","/":"_","=":""};return n.replace(/[+/=]/g,function(i){return r[i]})}(window.btoa(String.fromCharCode.apply(String,Array.from(e))))},jo=function(t,e){return w(void 0,void 0,void 0,function(){var n,r;return G(this,function(i){switch(i.label){case 0:return[4,(c=t,u=e,u=u||{},new Promise(function(o,a){var s=new XMLHttpRequest,l=[],f=[],d={},I=function(){return{ok:(s.status/100|0)==2,statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:I,headers:{keys:function(){return l},entries:function(){return f},get:function(b){return d[b.toLowerCase()]},has:function(b){return b.toLowerCase()in d}}}};for(var p in s.open(u.method||"get",c,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(b,h,g){l.push(h=h.toLowerCase()),f.push([h,g]),d[h]=d[h]?d[h]+","+g:g}),o(I())},s.onerror=a,s.withCredentials=u.credentials=="include",u.headers)s.setRequestHeader(p,u.headers[p]);s.send(u.body||null)}))];case 1:return n=i.sent(),r={ok:n.ok},[4,n.json()];case 2:return[2,(r.json=i.sent(),r)]}var c,u})})},Po=function(t,e,n){return w(void 0,void 0,void 0,function(){var r,i;return G(this,function(c){return r=new AbortController,e.signal=r.signal,[2,Promise.race([jo(t,e),new Promise(function(u,o){i=setTimeout(function(){r.abort(),o(new Error("Timeout when executing 'fetch'"))},n)})]).finally(function(){clearTimeout(i)})]})})},Do=function(t,e,n,r,i,c){return w(void 0,void 0,void 0,function(){return G(this,function(u){return[2,(o={auth:{audience:e,scope:n},timeout:i,fetchUrl:t,fetchOptions:r},a=c,new Promise(function(s,l){var f=new MessageChannel;f.port1.onmessage=function(d){d.data.error?l(new Error(d.data.error)):s(d.data)},a.postMessage(o,[f.port2])}))];var o,a})})},Mo=function(t,e,n,r,i,c){return c===void 0&&(c=1e4),w(void 0,void 0,void 0,function(){return G(this,function(u){return i?[2,Do(t,e,n,r,c,i)]:[2,Po(t,r,c)]})})};function qo(t,e,n,r,i,c){return w(this,void 0,void 0,function(){var u,o,a,s,l,f,d,I;return G(this,function(p){switch(p.label){case 0:u=null,a=0,p.label=1;case 1:if(!(a<3))return[3,6];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,Mo(t,n,r,i,c,e)];case 3:return o=p.sent(),u=null,[3,6];case 4:return s=p.sent(),u=s,[3,5];case 5:return a++,[3,1];case 6:if(u)throw u.message=u.message||"Failed to fetch",u;if(l=o.json,f=l.error,d=l.error_description,I=K(l,["error","error_description"]),!o.ok)throw new $t(f||"request_error",d||"HTTP error. Unable to fetch "+t);return[2,I]}})})}var $o=function(t){return Array.from(new Set(t))},at=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return $o(t.join(" ").trim().split(/\s+/)).join(" ")};function Ce(t,e){var n=t.baseUrl,r=t.timeout,i=t.audience,c=t.scope,u=t.auth0Client,o=K(t,["baseUrl","timeout","audience","scope","auth0Client"]);return w(this,void 0,void 0,function(){var a,s;return G(this,function(l){switch(l.label){case 0:return[4,qo(n+"/oauth/token",r,i||"default",c,{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json","Auth0-Client":btoa(JSON.stringify(u||Tr))}},e)];case 1:return a=l.sent(),(s=function(f,d){f===void 0&&(f=""),d===void 0&&(d="");var I=f.split(/\s+/),p=d.split(/\s+/);return I.filter(function(b){return!p.includes(b)}).join(" ")}(c,a.scope)).length&&console.warn("The requested scopes ("+c+") are different from the scopes of the retrieved token ("+a.scope+`). This could mean that your access token may not include all the scopes that you expect. It is advised to resolve this by either:
  
  - Removing \``+s+"` from the scope when requesting a new token.\n  - Ensuring `"+s+"` is returned as part of the requested token's scopes."),[2,a]}})})}var lt=function(){function t(e,n){n===void 0&&(n=gn),this.prefix=n,this.client_id=e.client_id,this.scope=e.scope,this.audience=e.audience}return t.prototype.toKey=function(){return this.prefix+"::"+this.client_id+"::"+this.audience+"::"+this.scope},t.fromKey=function(e){var n=e.split("::"),r=n[0],i=n[1],c=n[2];return new t({client_id:i,scope:n[3],audience:c},r)},t}(),gn="@@auth0spajs@@",Kr=function(t){var e=Math.floor(Date.now()/1e3)+t.expires_in;return{body:t,expiresAt:Math.min(e,t.decodedToken.claims.exp)}},_r=function(t,e){var n=t.client_id,r=t.audience,i=t.scope;return e.filter(function(c){var u=lt.fromKey(c),o=u.prefix,a=u.client_id,s=u.audience,l=u.scope,f=l&&l.split(" "),d=l&&i.split(" ").reduce(function(I,p){return I&&f.includes(p)},!0);return o===gn&&a===n&&s===r&&d})[0]},tc=function(){function t(){}return t.prototype.save=function(e){var n=new lt({client_id:e.client_id,scope:e.scope,audience:e.audience}),r=Kr(e);window.localStorage.setItem(n.toKey(),JSON.stringify(r))},t.prototype.get=function(e,n){n===void 0&&(n=0);var r=this.readJson(e),i=Math.floor(Date.now()/1e3);if(r){if(!(r.expiresAt-n<i))return r.body;if(r.body.refresh_token){var c=this.stripData(r);return this.writeJson(e.toKey(),c),c.body}localStorage.removeItem(e.toKey())}},t.prototype.clear=function(){for(var e=localStorage.length-1;e>=0;e--)localStorage.key(e).startsWith(gn)&&localStorage.removeItem(localStorage.key(e))},t.prototype.readJson=function(e){var n,r=_r(e,Object.keys(window.localStorage)),i=r&&window.localStorage.getItem(r);if(i&&(n=JSON.parse(i)))return n},t.prototype.writeJson=function(e,n){localStorage.setItem(e,JSON.stringify(n))},t.prototype.stripData=function(e){return{body:{refresh_token:e.body.refresh_token},expiresAt:e.expiresAt}},t}(),ec=function(){this.enclosedCache=function(){var t={};return{save:function(e){var n=new lt({client_id:e.client_id,scope:e.scope,audience:e.audience}),r=Kr(e);t[n.toKey()]=r},get:function(e,n){n===void 0&&(n=0);var r=_r(e,Object.keys(t)),i=t[r],c=Math.floor(Date.now()/1e3);if(i)return i.expiresAt-n<c?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},i.body):void delete t[e.toKey()]:i.body},clear:function(){t={}}}}()},nc=function(){function t(e){this.storage=e,this.transaction=this.storage.get("a0.spajs.txs")}return t.prototype.create=function(e){this.transaction=e,this.storage.save("a0.spajs.txs",e,{daysUntilExpire:1})},t.prototype.get=function(){return this.transaction},t.prototype.remove=function(){delete this.transaction,this.storage.remove("a0.spajs.txs")},t}(),te=function(t){return typeof t=="number"},rc=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],ic=function(t){if(!t.id_token)throw new Error("ID token is required but missing");var e=function(o){var a=o.split("."),s=a[0],l=a[1],f=a[2];if(a.length!==3||!s||!l||!f)throw new Error("ID token could not be decoded");var d=JSON.parse(Or(l)),I={__raw:o},p={};return Object.keys(d).forEach(function(b){I[b]=d[b],rc.includes(b)||(p[b]=d[b])}),{encoded:{header:s,payload:l,signature:f},header:JSON.parse(Or(s)),claims:I,user:p}}(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+t.iss+'", found "'+e.claims.iss+'"');if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error('Signature algorithm of "'+e.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but was not one of "'+e.claims.aud.join(", ")+'"');if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+t.aud+'", found "'+e.claims.azp+'"')}}else if(e.claims.aud!==t.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but found "'+e.claims.aud+'"');if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+t.nonce+'", found "'+e.claims.nonce+'"')}if(t.max_age&&!te(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!te(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!te(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=t.leeway||60,r=new Date(Date.now()),i=new Date(0),c=new Date(0),u=new Date(0);if(u.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),i.setUTCSeconds(e.claims.exp+n),c.setUTCSeconds(e.claims.nbf-n),r>i)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+r+") is after expiration time ("+i+")");if(te(e.claims.nbf)&&r<c)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+r+") is before "+c);if(te(e.claims.auth_time)&&r>u)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+r+") is after last auth at "+u);if(t.organizationId){if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(t.organizationId!==e.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'+t.organizationId+'", found "'+e.claims.org_id+'"')}return e},vt=Ct(function(t,e){var n=z&&z.__assign||function(){return(n=Object.assign||function(a){for(var s,l=1,f=arguments.length;l<f;l++)for(var d in s=arguments[l])Object.prototype.hasOwnProperty.call(s,d)&&(a[d]=s[d]);return a}).apply(this,arguments)};function r(a,s){if(!s)return"";var l="; "+a;return s===!0?l:l+"="+s}function i(a,s,l){return encodeURIComponent(a).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(s).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(f){if(typeof f.expires=="number"){var d=new Date;d.setMilliseconds(d.getMilliseconds()+864e5*f.expires),f.expires=d}return r("Expires",f.expires?f.expires.toUTCString():"")+r("Domain",f.domain)+r("Path",f.path)+r("Secure",f.secure)+r("SameSite",f.sameSite)}(l)}function c(a){for(var s={},l=a?a.split("; "):[],f=/(%[\dA-F]{2})+/gi,d=0;d<l.length;d++){var I=l[d].split("="),p=I.slice(1).join("=");p.charAt(0)==='"'&&(p=p.slice(1,-1));try{s[I[0].replace(f,decodeURIComponent)]=p.replace(f,decodeURIComponent)}catch(b){}}return s}function u(){return c(document.cookie)}function o(a,s,l){document.cookie=i(a,s,n({path:"/"},l))}e.__esModule=!0,e.encode=i,e.parse=c,e.getAll=u,e.get=function(a){return u()[a]},e.set=o,e.remove=function(a,s){o(a,"",n(n({},s),{expires:-1}))}});Fe(vt),vt.encode,vt.parse,vt.getAll;var oc=vt.get,zr=vt.set,cc=vt.remove,Wt={get:function(t){var e=oc(t);if(e!==void 0)return JSON.parse(e)},save:function(t,e,n){var r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),r.expires=n.daysUntilExpire,zr(t,JSON.stringify(e),r)},remove:function(t){cc(t)}},sc={get:function(t){var e=Wt.get(t);return e||Wt.get("_legacy_"+t)},save:function(t,e,n){var r={};window.location.protocol==="https:"&&(r={secure:!0}),r.expires=n.daysUntilExpire,zr("_legacy_"+t,JSON.stringify(e),r),Wt.save(t,e,n)},remove:function(t){Wt.remove(t),Wt.remove("_legacy_"+t)}},uc={get:function(t){if(typeof sessionStorage!="undefined"){var e=sessionStorage.getItem(t);if(e!==void 0)return JSON.parse(e)}},save:function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove:function(t){sessionStorage.removeItem(t)}};function ac(t,e,n){var r=e===void 0?null:e,i=function(a,s){var l=atob(a);if(s){for(var f=new Uint8Array(l.length),d=0,I=l.length;d<I;++d)f[d]=l.charCodeAt(d);return String.fromCharCode.apply(null,new Uint16Array(f.buffer))}return l}(t,n!==void 0&&n),c=i.indexOf(`
`,10)+1,u=i.substring(c)+(r?"//# sourceMappingURL="+r:""),o=new Blob([u],{type:"application/javascript"});return URL.createObjectURL(o)}var jr,Pr,Dr,In,lc=(jr="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlCiAgICB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZQogICAgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiAgICBUSElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAgICBLSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVECiAgICBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLAogICAgTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC4KCiAgICBTZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMKICAgIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLG49YXJndW1lbnRzLmxlbmd0aDtyPG47cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHQoZSx0KXt2YXIgcixuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYocj0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXQuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7cj1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciByPXt9LG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsifCIrdH07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGM9by5kYXRhLGw9Yy50aW1lb3V0LGY9Yy5hdXRoLGg9Yy5mZXRjaFVybCxwPWMuZmV0Y2hPcHRpb25zLGI9by5wb3J0c1swXTtyZXR1cm4gcz12b2lkIDAsYT12b2lkIDAsdT1mdW5jdGlvbigpe3ZhciBvLHMsYSxpLHUsYyx5LGQsdix3O3JldHVybiB0KHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6YT0ocz1mfHx7fSkuYXVkaWVuY2UsaT1zLnNjb3BlLHQubGFiZWw9MTtjYXNlIDE6aWYodC50cnlzLnB1c2goWzEsNywsOF0pLCEodT1KU09OLnBhcnNlKHAuYm9keSkpLnJlZnJlc2hfdG9rZW4mJiJyZWZyZXNoX3Rva2VuIj09PXUuZ3JhbnRfdHlwZSl7aWYoIShjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHJbbihlLHQpXX0oYSxpKSkpdGhyb3cgbmV3IEVycm9yKCJUaGUgd2ViIHdvcmtlciBpcyBtaXNzaW5nIHRoZSByZWZyZXNoIHRva2VuIik7cC5ib2R5PUpTT04uc3RyaW5naWZ5KGUoZSh7fSx1KSx7cmVmcmVzaF90b2tlbjpjfSkpfXk9dm9pZCAwLCJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJih5PW5ldyBBYm9ydENvbnRyb2xsZXIscC5zaWduYWw9eS5zaWduYWwpLGQ9dm9pZCAwLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHQudHJ5cy5wdXNoKFsyLDQsLDVdKSxbNCxQcm9taXNlLnJhY2UoWyhnPWwsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3JldHVybiBzZXRUaW1lb3V0KGUsZyl9KSkpLGZldGNoKGgsZSh7fSxwKSldKV07Y2FzZSAzOnJldHVybiBkPXQuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdj10LnNlbnQoKSxiLnBvc3RNZXNzYWdlKHtlcnJvcjp2Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiBkP1s0LGQuanNvbigpXTooeSYmeS5hYm9ydCgpLGIucG9zdE1lc3NhZ2Uoe2Vycm9yOiJUaW1lb3V0IHdoZW4gZXhlY3V0aW5nICdmZXRjaCcifSksWzJdKTtjYXNlIDY6cmV0dXJuKG89dC5zZW50KCkpLnJlZnJlc2hfdG9rZW4/KGZ1bmN0aW9uKGUsdCxvKXtyW24odCxvKV09ZX0oby5yZWZyZXNoX3Rva2VuLGEsaSksZGVsZXRlIG8ucmVmcmVzaF90b2tlbik6ZnVuY3Rpb24oZSx0KXtkZWxldGUgcltuKGUsdCldfShhLGkpLGIucG9zdE1lc3NhZ2Uoe29rOmQub2ssanNvbjpvfSksWzMsOF07Y2FzZSA3OnJldHVybiB3PXQuc2VudCgpLGIucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yX2Rlc2NyaXB0aW9uOncubWVzc2FnZX19KSxbMyw4XTtjYXNlIDg6cmV0dXJuWzJdfXZhciBnfSkpfSxuZXcoKGk9dm9pZCAwKXx8KGk9UHJvbWlzZSkpKChmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSl7dHJ5e28odS5uZXh0KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBuKGUpe3RyeXtvKHUudGhyb3coZSkpfWNhdGNoKGUpe3QoZSl9fWZ1bmN0aW9uIG8odCl7dC5kb25lP2UodC52YWx1ZSk6bmV3IGkoKGZ1bmN0aW9uKGUpe2UodC52YWx1ZSl9KSkudGhlbihyLG4pfW8oKHU9dS5hcHBseShzLGF8fFtdKSkubmV4dCgpKX0pKX0pKX0oKTsKCg==",Pr="data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy93b3JrZXIvdG9rZW4ud29ya2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwQ29uZmlnT3B0aW9ucyB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB2ZXJzaW9uIGZyb20gJy4vdmVyc2lvbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTID0gNjA7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9QT1BVUF9DT05GSUdfT1BUSU9OUzogUG9wdXBDb25maWdPcHRpb25zID0ge1xuICB0aW1lb3V0SW5TZWNvbmRzOiBERUZBVUxUX0FVVEhPUklaRV9USU1FT1VUX0lOX1NFQ09ORFNcbn07XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9TSUxFTlRfVE9LRU5fUkVUUllfQ09VTlQgPSAzO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IENMRUFOVVBfSUZSQU1FX1RJTUVPVVRfSU5fU0VDT05EUyA9IDI7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9GRVRDSF9USU1FT1VUX01TID0gMTAwMDA7XG5cbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9NRU1PUlkgPSAnbWVtb3J5JztcbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9MT0NBTF9TVE9SQUdFID0gJ2xvY2Fsc3RvcmFnZSc7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPVxuICAnVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgSU5WQUxJRF9SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPSAnaW52YWxpZCByZWZyZXNoIHRva2VuJztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NDT1BFID0gJ29wZW5pZCBwcm9maWxlIGVtYWlsJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgZXJyb3JzIHRoYXQgY2FuIGJlIGlzc3VlZCBieSB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgd2hpY2ggdGhlXG4gKiB1c2VyIGNhbiByZWNvdmVyIGZyb20gYnkgc2lnbmluZyBpbiBpbnRlcmFjdGl2ZWx5LlxuICogaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjQXV0aEVycm9yXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBSRUNPVkVSQUJMRV9FUlJPUlMgPSBbXG4gICdsb2dpbl9yZXF1aXJlZCcsXG4gICdjb25zZW50X3JlcXVpcmVkJyxcbiAgJ2ludGVyYWN0aW9uX3JlcXVpcmVkJyxcbiAgJ2FjY291bnRfc2VsZWN0aW9uX3JlcXVpcmVkJyxcbiAgLy8gU3RyaWN0bHkgc3BlYWtpbmcgdGhlIHVzZXIgY2FuJ3QgcmVjb3ZlciBmcm9tIGBhY2Nlc3NfZGVuaWVkYCAtIGJ1dCB0aGV5XG4gIC8vIGNhbiBnZXQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGVpciBhY2Nlc3MgYmVpbmcgZGVuaWVkIGJ5IGxvZ2dpbmcgaW5cbiAgLy8gaW50ZXJhY3RpdmVseS5cbiAgJ2FjY2Vzc19kZW5pZWQnXG5dO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VTU0lPTl9DSEVDS19FWFBJUllfREFZUyA9IDE7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIMF9DTElFTlQgPSB7XG4gIG5hbWU6ICdhdXRoMC1zcGEtanMnLFxuICB2ZXJzaW9uOiB2ZXJzaW9uXG59O1xuIiwiaW1wb3J0IHsgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgV29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZSB9IGZyb20gJy4vd29ya2VyLnR5cGVzJztcblxubGV0IHJlZnJlc2hUb2tlbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT4gYCR7YXVkaWVuY2V9fCR7c2NvcGV9YDtcblxuY29uc3QgZ2V0UmVmcmVzaFRva2VuID0gKGF1ZGllbmNlOiBzdHJpbmcsIHNjb3BlOiBzdHJpbmcpID0+XG4gIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHNldFJlZnJlc2hUb2tlbiA9IChcbiAgcmVmcmVzaFRva2VuOiBzdHJpbmcsXG4gIGF1ZGllbmNlOiBzdHJpbmcsXG4gIHNjb3BlOiBzdHJpbmdcbikgPT4gKHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV0gPSByZWZyZXNoVG9rZW4pO1xuXG5jb25zdCBkZWxldGVSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQgPSAodGltZTogbnVtYmVyKSA9PlxuICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpO1xuXG5jb25zdCBtZXNzYWdlSGFuZGxlciA9IGFzeW5jICh7XG4gIGRhdGE6IHsgdGltZW91dCwgYXV0aCwgZmV0Y2hVcmwsIGZldGNoT3B0aW9ucyB9LFxuICBwb3J0czogW3BvcnRdXG59OiBNZXNzYWdlRXZlbnQ8V29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZT4pID0+IHtcbiAgbGV0IGpzb246IHtcbiAgICByZWZyZXNoX3Rva2VuPzogc3RyaW5nO1xuICB9O1xuXG4gIGNvbnN0IHsgYXVkaWVuY2UsIHNjb3BlIH0gPSBhdXRoIHx8IHt9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UoZmV0Y2hPcHRpb25zLmJvZHkpO1xuXG4gICAgaWYgKCFib2R5LnJlZnJlc2hfdG9rZW4gJiYgYm9keS5ncmFudF90eXBlID09PSAncmVmcmVzaF90b2tlbicpIHtcbiAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdldFJlZnJlc2hUb2tlbihhdWRpZW5jZSwgc2NvcGUpO1xuXG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaE9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLi4uYm9keSxcbiAgICAgICAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG5cbiAgICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgZmV0Y2hPcHRpb25zLnNpZ25hbCA9IGFib3J0Q29udHJvbGxlci5zaWduYWw7XG4gICAgfVxuXG4gICAgbGV0IHJlc3BvbnNlOiBhbnk7XG5cbiAgICB0cnkge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICB3YWl0KHRpbWVvdXQpLFxuICAgICAgICBmZXRjaChmZXRjaFVybCwgeyAuLi5mZXRjaE9wdGlvbnMgfSlcbiAgICAgIF0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBmZXRjaCBlcnJvciwgcmVqZWN0IGBzZW5kTWVzc2FnZWAgdXNpbmcgYGVycm9yYCBrZXkgc28gdGhhdCB3ZSByZXRyeS5cbiAgICAgIHBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYHN3aXRjaEZldGNoYCByYWlzZSB0aGUgZXJyb3IuXG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcblxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBcIlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJ1wiXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidGltZW91dCIsImF1dGgiLCJmZXRjaFVybCIsImZldGNoT3B0aW9ucyIsInBvcnQiLCJfYyIsIkpTT04iLCJwYXJzZSIsInJlZnJlc2hfdG9rZW4iLCJncmFudF90eXBlIiwicmVmcmVzaFRva2VuIiwiZ2V0UmVmcmVzaFRva2VuIiwiRXJyb3IiLCJzdHJpbmdpZnkiLCJhYm9ydENvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJzaWduYWwiLCJyZXNwb25zZSIsIlByb21pc2UiLCJyYWNlIiwidGltZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZmV0Y2giLCJfZCIsInBvc3RNZXNzYWdlIiwiZXJyb3IiLCJlcnJvcl8xIiwibWVzc2FnZSIsImpzb24iLCJhYm9ydCIsInNldFJlZnJlc2hUb2tlbiIsImRlbGV0ZVJlZnJlc2hUb2tlbiIsIm9rIiwiZXJyb3JfZGVzY3JpcHRpb24iLCJlcnJvcl8yIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJ0aGVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztvRkE2Qk8sSUFBSUEsRUFBVyxXQVFsQixPQVBBQSxFQUFXQyxPQUFPQyxRQUFVLFNBQWtCQyxHQUMxQyxJQUFLLElBQUlDLEVBQUdDLEVBQUksRUFBR0MsRUFBSUMsVUFBVUMsT0FBUUgsRUFBSUMsRUFBR0QsSUFFNUMsSUFBSyxJQUFJSSxLQURUTCxFQUFJRyxVQUFVRixHQUNPSixPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxJQUU5RSxPQUFPTixJQUVLVSxNQUFNQyxLQUFNUCxZQXVDekIsU0FBU1EsRUFBWUMsRUFBU0MsR0FDakMsSUFBc0dDLEVBQUdDLEVBQUdoQixFQUFHaUIsRUFBM0dDLEVBQUksQ0FBRUMsTUFBTyxFQUFHQyxLQUFNLFdBQWEsR0FBVyxFQUFQcEIsRUFBRSxHQUFRLE1BQU1BLEVBQUUsR0FBSSxPQUFPQSxFQUFFLElBQU9xQixLQUFNLEdBQUlDLElBQUssSUFDaEcsT0FBT0wsRUFBSSxDQUFFTSxLQUFNQyxFQUFLLEdBQUlDLE1BQVNELEVBQUssR0FBSUUsT0FBVUYsRUFBSyxJQUF3QixtQkFBWEcsU0FBMEJWLEVBQUVVLE9BQU9DLFVBQVksV0FBYSxPQUFPakIsT0FBVU0sRUFDdkosU0FBU08sRUFBS3JCLEdBQUssT0FBTyxTQUFVMEIsR0FBSyxPQUN6QyxTQUFjQyxHQUNWLEdBQUlmLEVBQUcsTUFBTSxJQUFJZ0IsVUFBVSxtQ0FDM0IsS0FBT2IsT0FDSCxHQUFJSCxFQUFJLEVBQUdDLElBQU1oQixFQUFZLEVBQVI4QixFQUFHLEdBQVNkLEVBQVUsT0FBSWMsRUFBRyxHQUFLZCxFQUFTLFNBQU9oQixFQUFJZ0IsRUFBVSxTQUFNaEIsRUFBRVMsS0FBS08sR0FBSSxHQUFLQSxFQUFFTyxTQUFXdkIsRUFBSUEsRUFBRVMsS0FBS08sRUFBR2MsRUFBRyxLQUFLRSxLQUFNLE9BQU9oQyxFQUUzSixPQURJZ0IsRUFBSSxFQUFHaEIsSUFBRzhCLEVBQUssQ0FBUyxFQUFSQSxFQUFHLEdBQVE5QixFQUFFaUMsUUFDekJILEVBQUcsSUFDUCxLQUFLLEVBQUcsS0FBSyxFQUFHOUIsRUFBSThCLEVBQUksTUFDeEIsS0FBSyxFQUFjLE9BQVhaLEVBQUVDLFFBQWdCLENBQUVjLE1BQU9ILEVBQUcsR0FBSUUsTUFBTSxHQUNoRCxLQUFLLEVBQUdkLEVBQUVDLFFBQVNILEVBQUljLEVBQUcsR0FBSUEsRUFBSyxDQUFDLEdBQUksU0FDeEMsS0FBSyxFQUFHQSxFQUFLWixFQUFFSSxJQUFJWSxNQUFPaEIsRUFBRUcsS0FBS2EsTUFBTyxTQUN4QyxRQUNJLEtBQU1sQyxFQUFJa0IsRUFBRUcsTUFBTXJCLEVBQUlBLEVBQUVLLE9BQVMsR0FBS0wsRUFBRUEsRUFBRUssT0FBUyxLQUFrQixJQUFWeUIsRUFBRyxJQUFzQixJQUFWQSxFQUFHLElBQVcsQ0FBRVosRUFBSSxFQUFHLFNBQ2pHLEdBQWMsSUFBVlksRUFBRyxNQUFjOUIsR0FBTThCLEVBQUcsR0FBSzlCLEVBQUUsSUFBTThCLEVBQUcsR0FBSzlCLEVBQUUsSUFBTSxDQUFFa0IsRUFBRUMsTUFBUVcsRUFBRyxHQUFJLE1BQzlFLEdBQWMsSUFBVkEsRUFBRyxJQUFZWixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJLENBQUVrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJQSxFQUFJOEIsRUFBSSxNQUM3RCxHQUFJOUIsR0FBS2tCLEVBQUVDLE1BQVFuQixFQUFFLEdBQUksQ0FBRWtCLEVBQUVDLE1BQVFuQixFQUFFLEdBQUlrQixFQUFFSSxJQUFJYSxLQUFLTCxHQUFLLE1BQ3ZEOUIsRUFBRSxJQUFJa0IsRUFBRUksSUFBSVksTUFDaEJoQixFQUFFRyxLQUFLYSxNQUFPLFNBRXRCSixFQUFLaEIsRUFBS0wsS0FBS0ksRUFBU0ssR0FDMUIsTUFBT2tCLEdBQUtOLEVBQUssQ0FBQyxFQUFHTSxHQUFJcEIsRUFBSSxVQUFlRCxFQUFJZixFQUFJLEVBQ3RELEdBQVksRUFBUjhCLEVBQUcsR0FBUSxNQUFNQSxFQUFHLEdBQUksTUFBTyxDQUFFRyxNQUFPSCxFQUFHLEdBQUtBLEVBQUcsUUFBSyxFQUFRRSxNQUFNLEdBckI5QkssQ0FBSyxDQUFDbEMsRUFBRzBCLE1DM0N0RCxJQ2pDSFMsRUFBd0MsR0FFdENDLEVBQVcsU0FBQ0MsRUFBa0JDLEdBQWtCLE9BQUdELE1BQVlDLEdBMEduRUMsaUJBQWlCLFdBekZJLFNBQU9DLE9GNkNKOUIsRUFBUytCLEVBQVlDLEVBQUdDLEVFNUNoREMsU0FBUUMsWUFBU0MsU0FBTUMsYUFBVUMsaUJBQ3pCQyxvQkYyQ2dCdkMsU0FBUytCLFNBQWVFLHVGRXJDeENOLEdBQUZhLEVBQXNCSixHQUFRLGFBQWxCUiwyQkFLaEIsMkJBRk0zQixFQUFPd0MsS0FBS0MsTUFBTUosRUFBYXJDLE9BRTNCMEMsZUFBcUMsa0JBQXBCMUMsRUFBSzJDLFdBQWdDLENBRzlELEtBRk1DLEVBN0JZLFNBQUNsQixFQUFrQkMsR0FDekMsT0FBQUgsRUFBY0MsRUFBU0MsRUFBVUMsSUE0QlJrQixDQUFnQm5CLEVBQVVDLElBRzdDLE1BQU0sSUFBSW1CLE1ERmhCLCtDQ0tJVCxFQUFhckMsS0FBT3dDLEtBQUtPLGlCQUNwQi9DLElBQ0gwQyxjQUFlRSxLQUlmSSxTQUUyQixtQkFBcEJDLGtCQUNURCxFQUFrQixJQUFJQyxnQkFDdEJaLEVBQWFhLE9BQVNGLEVBQWdCRSxRQUdwQ0MsMEJBR1MsZ0NBQU1DLFFBQVFDLEtBQUssRUF2Q3RCQyxFQXdDRHBCLEVBdkNYLElBQUlrQixTQUFRLFNBQUFHLEdBQVcsT0FBQUMsV0FBV0QsRUFBU0QsT0F3Q3JDRyxNQUFNckIsT0FBZUMscUJBRnZCYyxFQUFXTyxzQkFVWCxrQkFKQXBCLEVBQUtxQixZQUFZLENBQ2ZDLE1BQU9DLEVBQU1DLHFCQU1qQixPQUFLWCxLQVdRQSxFQUFTWSxTQVRoQmYsR0FBaUJBLEVBQWdCZ0IsUUFFckMxQixFQUFLcUIsWUFBWSxDQUNmQyxNQUFPLHNEQU1YRyxFQUFPTCxVQUVFaEIsZUExRVcsU0FDdEJFLEVBQ0FsQixFQUNBQyxHQUNJSCxFQUFjQyxFQUFTQyxFQUFVQyxJQUFVaUIsRUF1RTNDcUIsQ0FBZ0JGLEVBQUtyQixjQUFlaEIsRUFBVUMsVUFDdkNvQyxFQUFLckIsZUF0RVMsU0FBQ2hCLEVBQWtCQyxVQUNyQ0gsRUFBY0MsRUFBU0MsRUFBVUMsSUF1RXBDdUMsQ0FBbUJ4QyxFQUFVQyxHQUcvQlcsRUFBS3FCLFlBQVksQ0FDZlEsR0FBSWhCLEVBQVNnQixHQUNiSix3Q0FHRnpCLEVBQUtxQixZQUFZLENBQ2ZRLElBQUksRUFDSkosS0FBTSxDQUNKSyxrQkFBbUJDLEVBQU1QLGtDQWhGcEIsSUFBQ1IsTUZpREgsS0FEb0N2QixZQUN6QkEsRUFBSXFCLFdBQVUsU0FBVUcsRUFBU2UsR0FDL0MsU0FBU0MsRUFBVXBELEdBQVMsSUFBTUksRUFBS1MsRUFBVXZCLEtBQUtVLElBQVcsTUFBT0csR0FBS2dELEVBQU9oRCxJQUNwRixTQUFTa0QsRUFBU3JELEdBQVMsSUFBTUksRUFBS1MsRUFBaUIsTUFBRWIsSUFBVyxNQUFPRyxHQUFLZ0QsRUFBT2hELElBQ3ZGLFNBQVNDLEVBQUtrRCxHQUFVQSxFQUFPdkQsS0FBT3FDLEVBQVFrQixFQUFPdEQsT0FBUyxJQUFJWSxHQUFFLFNBQVV3QixHQUFXQSxFQUFRa0IsRUFBT3RELFVBQVd1RCxLQUFLSCxFQUFXQyxHQUNuSWpELEdBQU1TLEVBQVlBLEVBQVVwQyxNQUFNRyxFQUFTK0IsR0FBYyxLQUFLckIifQ==",Dr=!1,function(t){return In=In||ac(jr,Pr,Dr),new Worker(In,t)}),hn={},Mr=new To,dc={memory:function(){return new ec().enclosedCache},localstorage:function(){return new tc}},qr=function(t){return dc[t]},fc=function(){return!/Trident.*rv:11\.0/.test(navigator.userAgent)},gc=function(){function t(e){var n,r;if(this.options=e,typeof window!="undefined"&&function(){if(!ln())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Nr()===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)}(),this.cacheLocation=e.cacheLocation||"memory",this.cookieStorage=e.legacySameSiteCookie===!1?Wt:sc,this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1,!qr(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');var i,c,u=e.useCookiesForTransactions?this.cookieStorage:uc;this.cache=qr(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new nc(u),this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(i=this.options.issuer,c=this.domainUrl,i?i.startsWith("https://")?i:"https://"+i+"/":c+"/"),this.defaultScope=at("openid",((r=(n=this.options)===null||n===void 0?void 0:n.advancedOptions)===null||r===void 0?void 0:r.defaultScope)!==void 0?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=at(this.scope,"offline_access")),typeof window!="undefined"&&window.Worker&&this.options.useRefreshTokens&&this.cacheLocation==="memory"&&fc()&&(this.worker=new lc),this.customOptions=function(o){return o.advancedOptions,o.audience,o.auth0Client,o.authorizeTimeoutInSeconds,o.cacheLocation,o.client_id,o.domain,o.issuer,o.leeway,o.max_age,o.redirect_uri,o.scope,o.useRefreshTokens,K(o,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"])}(e)}return t.prototype._url=function(e){var n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Tr)));return""+this.domainUrl+e+"&auth0Client="+n},t.prototype._getParams=function(e,n,r,i,c){var u=this.options,o=(u.domain,u.leeway,u.useRefreshTokens,u.useCookiesForTransactions,u.auth0Client,u.cacheLocation,u.advancedOptions,K(u,["domain","leeway","useRefreshTokens","useCookiesForTransactions","auth0Client","cacheLocation","advancedOptions"]));return U(U(U({},o),e),{scope:at(this.defaultScope,this.scope,e.scope),response_type:"code",response_mode:"query",state:n,nonce:r,redirect_uri:c||this.options.redirect_uri,code_challenge:i,code_challenge_method:"S256"})},t.prototype._authorizeUrl=function(e){return this._url("/authorize?"+Yr(e))},t.prototype._verifyIdToken=function(e,n,r){return ic({iss:this.tokenIssuer,aud:this.options.client_id,id_token:e,nonce:n,organizationId:r,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},t.prototype._parseNumber=function(e){return typeof e!="string"?e:parseInt(e,10)||void 0},t.prototype.buildAuthorizeUrl=function(e){return e===void 0&&(e={}),w(this,void 0,void 0,function(){var n,r,i,c,u,o,a,s,l,f,d,I;return G(this,function(p){switch(p.label){case 0:return n=e.redirect_uri,r=e.appState,i=K(e,["redirect_uri","appState"]),c=Qt(rt()),u=Qt(rt()),o=rt(),[4,dn(o)];case 1:return a=p.sent(),s=fn(a),l=e.fragment?"#"+e.fragment:"",f=this._getParams(i,c,u,s,n),d=this._authorizeUrl(f),I=e.organization||this.options.organization,this.transactionManager.create(U({nonce:u,code_verifier:o,appState:r,scope:f.scope,audience:f.audience||"default",redirect_uri:f.redirect_uri},I&&{organizationId:I})),[2,d+l]}})})},t.prototype.loginWithPopup=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),w(this,void 0,void 0,function(){var r,i,c,u,o,a,s,l,f,d,I,p,b;return G(this,function(h){switch(h.label){case 0:return r=K(e,[]),i=Qt(rt()),c=Qt(rt()),u=rt(),[4,dn(u)];case 1:return o=h.sent(),a=fn(o),s=this._getParams(r,i,c,a,this.options.redirect_uri||window.location.origin),l=this._authorizeUrl(U(U({},s),{response_mode:"web_message"})),[4,zo(l,U(U({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(f=h.sent(),i!==f.state)throw new Error("Invalid state");return[4,Ce({audience:s.audience,scope:s.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:u,code:f.code,grant_type:"authorization_code",redirect_uri:s.redirect_uri,auth0Client:this.options.auth0Client},this.worker)];case 3:return d=h.sent(),I=e.organization||this.options.organization,p=this._verifyIdToken(d.id_token,c,I),b=U(U({},d),{decodedToken:p,scope:s.scope,audience:s.audience||"default",client_id:this.options.client_id}),this.cache.save(b),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2]}})})},t.prototype.getUser=function(e){return e===void 0&&(e={}),w(this,void 0,void 0,function(){var n,r,i;return G(this,function(c){return n=e.audience||this.options.audience||"default",r=at(this.defaultScope,this.scope,e.scope),[2,(i=this.cache.get(new lt({client_id:this.options.client_id,audience:n,scope:r})))&&i.decodedToken&&i.decodedToken.user]})})},t.prototype.getIdTokenClaims=function(e){return e===void 0&&(e={}),w(this,void 0,void 0,function(){var n,r,i;return G(this,function(c){return n=e.audience||this.options.audience||"default",r=at(this.defaultScope,this.scope,e.scope),[2,(i=this.cache.get(new lt({client_id:this.options.client_id,audience:n,scope:r})))&&i.decodedToken&&i.decodedToken.claims]})})},t.prototype.loginWithRedirect=function(e){return e===void 0&&(e={}),w(this,void 0,void 0,function(){var n;return G(this,function(r){switch(r.label){case 0:return[4,this.buildAuthorizeUrl(e)];case 1:return n=r.sent(),window.location.assign(n),[2]}})})},t.prototype.handleRedirectCallback=function(e){return e===void 0&&(e=window.location.href),w(this,void 0,void 0,function(){var n,r,i,c,u,o,a,s,l,f,d;return G(this,function(I){switch(I.label){case 0:if((n=e.split("?").slice(1)).length===0)throw new Error("There are no query params available for parsing.");if(r=function(p){p.indexOf("#")>-1&&(p=p.substr(0,p.indexOf("#")));var b=p.split("&"),h={};return b.forEach(function(g){var y=g.split("="),m=y[0],v=y[1];h[m]=decodeURIComponent(v)}),U(U({},h),{expires_in:parseInt(h.expires_in)})}(n.join("")),i=r.state,c=r.code,u=r.error,o=r.error_description,!(a=this.transactionManager.get())||!a.code_verifier)throw new Error("Invalid state");if(this.transactionManager.remove(),u)throw new Oo(u,o,i,a.appState);return s={audience:a.audience,scope:a.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a.code_verifier,grant_type:"authorization_code",code:c,auth0Client:this.options.auth0Client},a.redirect_uri!==void 0&&(s.redirect_uri=a.redirect_uri),[4,Ce(s,this.worker)];case 1:return l=I.sent(),f=this._verifyIdToken(l.id_token,a.nonce,a.organizationId),d=U(U({},l),{decodedToken:f,audience:a.audience,scope:a.scope,client_id:this.options.client_id}),this.cache.save(d),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,{appState:a.appState}]}})})},t.prototype.checkSession=function(e){return w(this,void 0,void 0,function(){var n;return G(this,function(r){switch(r.label){case 0:if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.getTokenSilently(e)];case 2:return r.sent(),[3,4];case 3:if(n=r.sent(),!Yo.includes(n.error))throw n;return[3,4];case 4:return[2]}})})},t.prototype.getTokenSilently=function(e){return e===void 0&&(e={}),w(this,void 0,void 0,function(){var n,r,i,c=this;return G(this,function(u){return n=U(U({audience:this.options.audience,ignoreCache:!1},e),{scope:at(this.defaultScope,this.scope,e.scope)}),r=n.ignoreCache,i=K(n,["ignoreCache"]),[2,(o=function(){return c._getTokenSilently(U({ignoreCache:r},i))},a=this.options.client_id+"::"+i.audience+"::"+i.scope,s=hn[a],s||(s=o().finally(function(){delete hn[a],s=null}),hn[a]=s),s)];var o,a,s})})},t.prototype._getTokenSilently=function(e){return e===void 0&&(e={}),w(this,void 0,void 0,function(){var n,r,i,c,u,o,a=this;return G(this,function(s){switch(s.label){case 0:return n=e.ignoreCache,r=K(e,["ignoreCache"]),i=function(){var d=a.cache.get(new lt({scope:r.scope,audience:r.audience||"default",client_id:a.options.client_id}),60);return d&&d.access_token},!n&&(c=i())?[2,c]:[4,(l=function(){return Mr.acquireLock("auth0.lock.getTokenSilently",5e3)},f=10,f===void 0&&(f=3),w(void 0,void 0,void 0,function(){var d;return G(this,function(I){switch(I.label){case 0:d=0,I.label=1;case 1:return d<f?[4,l()]:[3,4];case 2:if(I.sent())return[2,!0];I.label=3;case 3:return d++,[3,1];case 4:return[2,!1]}})}))];case 1:if(!s.sent())return[3,10];s.label=2;case 2:return s.trys.push([2,,7,9]),!n&&(c=i())?[2,c]:this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(r)]:[3,4];case 3:return o=s.sent(),[3,6];case 4:return[4,this._getTokenFromIFrame(r)];case 5:o=s.sent(),s.label=6;case 6:return u=o,this.cache.save(U({client_id:this.options.client_id},u)),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,u.access_token];case 7:return[4,Mr.releaseLock("auth0.lock.getTokenSilently")];case 8:return s.sent(),[7];case 9:return[3,11];case 10:throw new an;case 11:return[2]}var l,f})})},t.prototype.getTokenWithPopup=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),w(this,void 0,void 0,function(){return G(this,function(r){switch(r.label){case 0:return e.audience=e.audience||this.options.audience,e.scope=at(this.defaultScope,this.scope,e.scope),n=U(U({},No),n),[4,this.loginWithPopup(e,n)];case 1:return r.sent(),[2,this.cache.get(new lt({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id})).access_token]}})})},t.prototype.isAuthenticated=function(){return w(this,void 0,void 0,function(){return G(this,function(e){switch(e.label){case 0:return[4,this.getUser()];case 1:return[2,!!e.sent()]}})})},t.prototype.buildLogoutUrl=function(e){e===void 0&&(e={}),e.client_id!==null?e.client_id=e.client_id||this.options.client_id:delete e.client_id;var n=e.federated,r=K(e,["federated"]),i=n?"&federated":"";return this._url("/v2/logout?"+Yr(r))+i},t.prototype.logout=function(e){e===void 0&&(e={});var n=e.localOnly,r=K(e,["localOnly"]);if(n&&r.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cache.clear(),this.cookieStorage.remove("auth0.is.authenticated"),!n){var i=this.buildLogoutUrl(r);window.location.assign(i)}},t.prototype._getTokenFromIFrame=function(e){return w(this,void 0,void 0,function(){var n,r,i,c,u,o,a,s,l,f,d,I,p,b,h;return G(this,function(g){switch(g.label){case 0:return n=Qt(rt()),r=Qt(rt()),i=rt(),[4,dn(i)];case 1:c=g.sent(),u=fn(c),o=this._getParams(e,n,r,u,e.redirect_uri||this.options.redirect_uri||window.location.origin),a=this._authorizeUrl(U(U({},o),{prompt:"none",response_mode:"web_message"})),s=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,g.label=2;case 2:return g.trys.push([2,5,,6]),[4,_o(a,this.domainUrl,s)];case 3:if(l=g.sent(),n!==l.state)throw new Error("Invalid state");return f=e.scope,d=e.audience,e.redirect_uri,e.ignoreCache,e.timeoutInSeconds,I=K(e,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,Ce(U(U(U({},this.customOptions),I),{scope:f,audience:d,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:i,code:l.code,grant_type:"authorization_code",redirect_uri:o.redirect_uri,auth0Client:this.options.auth0Client}),this.worker)];case 4:return p=g.sent(),b=this._verifyIdToken(p.id_token,r),[2,U(U({},p),{decodedToken:b,scope:o.scope,audience:o.audience||"default"})];case 5:throw(h=g.sent()).error==="login_required"&&this.logout({localOnly:!0}),h;case 6:return[2]}})})},t.prototype._getTokenUsingRefreshToken=function(e){return w(this,void 0,void 0,function(){var n,r,i,c,u,o,a,s,l;return G(this,function(f){switch(f.label){case 0:return e.scope=at(this.defaultScope,this.options.scope,e.scope),(n=this.cache.get(new lt({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id})))&&n.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(e)];case 1:return[2,f.sent()];case 2:r=e.redirect_uri||this.options.redirect_uri||window.location.origin,c=e.scope,u=e.audience,e.ignoreCache,e.timeoutInSeconds,o=K(e,["scope","audience","ignoreCache","timeoutInSeconds"]),a=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null,f.label=3;case 3:return f.trys.push([3,5,,8]),[4,Ce(U(U(U(U(U({},this.customOptions),o),{audience:u,scope:c,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:r}),a&&{timeout:a}),{auth0Client:this.options.auth0Client}),this.worker)];case 4:return i=f.sent(),[3,8];case 5:return(s=f.sent()).message==="The web worker is missing the refresh token"||s.message&&s.message.indexOf("invalid refresh token")>-1?[4,this._getTokenFromIFrame(e)]:[3,7];case 6:return[2,f.sent()];case 7:throw s;case 8:return l=this._verifyIdToken(i.id_token),[2,U(U({},i),{decodedToken:l,scope:e.scope,audience:e.audience||"default"})]}})})},t}(),$r={isAuthenticated:!1,isLoading:!0},dt=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},Ic=V(V({},$r),{buildAuthorizeUrl:dt,buildLogoutUrl:dt,getAccessTokenSilently:dt,getAccessTokenWithPopup:dt,getIdTokenClaims:dt,loginWithRedirect:dt,loginWithPopup:dt,logout:dt}),pn=J.createContext(Ic),hc=function(t){ii(e,t);function e(n,r){var i=t.call(this,r||n)||this;return i.error=n,i.error_description=r,i}return e}(Error),pc=/[?&]code=[^&]+/,yc=/[?&]state=[^&]+/,bc=/[?&]error=[^&]+/,mc=function(t){return t===void 0&&(t=window.location.search),pc.test(t)&&yc.test(t)||bc.test(t)},ti=function(t){return function(e){return"error"in e?new hc(e.error,e.error_description):e instanceof Error?e:new Error(t)}},ei=ti("Login failed"),ni=ti("Get access token failed"),vc=function(t,e){switch(e.type){case"LOGIN_POPUP_STARTED":return V(V({},t),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return V(V({},t),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"USER_UPDATED":return V(V({},t),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return V(V({},t),{isAuthenticated:!1,user:void 0});case"ERROR":return V(V({},t),{isLoading:!1,error:e.error})}},Cc=function(t){var e=t.clientId,n=t.redirectUri,r=t.maxAge,i=Ue(t,["clientId","redirectUri","maxAge"]);return V(V({},i),{client_id:e,redirect_uri:n,max_age:r,auth0Client:{name:"auth0-react",version:"1.3.0"}})},ri=function(t){if(!!t){var e=t.redirectUri,n=Ue(t,["redirectUri"]);return V(V({},n),{redirect_uri:e})}},Bc=function(t){window.history.replaceState({},document.title,(t==null?void 0:t.returnTo)||window.location.pathname)},Uc=function(t){var e,n=t.children,r=t.skipRedirectCallback,i=t.onRedirectCallback,c=i===void 0?Bc:i,u=Ue(t,["children","skipRedirectCallback","onRedirectCallback"]),o=J.useState(function(){return new gc(Cc(u))})[0],a=J.useReducer(vc,$r),s=a[0],l=a[1];J.useEffect(function(){(function(){return ee(void 0,void 0,void 0,function(){var v,A,R;return ne(this,function(F){switch(F.label){case 0:return F.trys.push([0,6,,7]),mc()&&!r?[4,o.handleRedirectCallback()]:[3,2];case 1:return v=F.sent().appState,c(v),[3,4];case 2:return[4,o.checkSession()];case 3:F.sent(),F.label=4;case 4:return[4,o.getUser()];case 5:return A=F.sent(),l({type:"INITIALISED",user:A}),[3,7];case 6:return R=F.sent(),l({type:"ERROR",error:ei(R)}),[3,7];case 7:return[2]}})})})()},[o,c,r]);var f=J.useCallback(function(v){return o.buildAuthorizeUrl(ri(v))},[o]),d=J.useCallback(function(v){return o.buildLogoutUrl(v)},[o]),I=J.useCallback(function(v){return o.loginWithRedirect(ri(v))},[o]),p=J.useCallback(function(v,A){return ee(void 0,void 0,void 0,function(){var R,F;return ne(this,function(Q){switch(Q.label){case 0:l({type:"LOGIN_POPUP_STARTED"}),Q.label=1;case 1:return Q.trys.push([1,3,,4]),[4,o.loginWithPopup(v,A)];case 2:return Q.sent(),[3,4];case 3:return R=Q.sent(),l({type:"ERROR",error:ei(R)}),[2];case 4:return[4,o.getUser()];case 5:return F=Q.sent(),l({type:"LOGIN_POPUP_COMPLETE",user:F}),[2]}})})},[o]),b=J.useCallback(function(v){v===void 0&&(v={}),o.logout(v),v.localOnly&&l({type:"LOGOUT"})},[o]),h=(e=s.user)===null||e===void 0?void 0:e.updated_at,g=J.useCallback(function(v){return ee(void 0,void 0,void 0,function(){var A,R,F;return ne(this,function(Q){switch(Q.label){case 0:return Q.trys.push([0,2,,3]),[4,o.getTokenSilently(v)];case 1:return A=Q.sent(),[3,3];case 2:throw R=Q.sent(),ni(R);case 3:return[4,o.getUser()];case 4:return F=Q.sent(),(F==null?void 0:F.updated_at)!==h&&l({type:"USER_UPDATED",user:F}),[2,A]}})})},[o,h]),y=J.useCallback(function(v,A){return ee(void 0,void 0,void 0,function(){var R,F,Q;return ne(this,function(Jt){switch(Jt.label){case 0:return Jt.trys.push([0,2,,3]),[4,o.getTokenWithPopup(v,A)];case 1:return R=Jt.sent(),[3,3];case 2:throw F=Jt.sent(),ni(F);case 3:return[4,o.getUser()];case 4:return Q=Jt.sent(),(Q==null?void 0:Q.updated_at)!==h&&l({type:"USER_UPDATED",user:Q}),[2,R]}})})},[o,h]),m=J.useCallback(function(v){return o.getIdTokenClaims(v)},[o]);return J.createElement(pn.Provider,{value:V(V({},s),{buildAuthorizeUrl:f,buildLogoutUrl:d,getAccessTokenSilently:g,getAccessTokenWithPopup:y,getIdTokenClaims:m,loginWithRedirect:I,loginWithPopup:p,logout:b})},n)},Fc=function(){return J.useContext(pn)},Sc=function(t){return function(e){return J.createElement(pn.Consumer,null,function(n){return J.createElement(t,V({auth0:n},e))})}};export{Uc as Auth0Provider,Fc as useAuth0,Sc as withAuth0};
