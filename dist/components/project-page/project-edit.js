import r from"../../../_snowpack/pkg/react.js";import{Modal as d}from"../../../_snowpack/pkg/antd.js";import{useReactiveVar as l}from"../../../_snowpack/pkg/@apollo/client.js";import{activeProjectVar as n}from"../../apollo/cache.js";import{projectsVar as p}from"../../apollo/cache.js";import f from"./project-form-update.js";const u=({visible:s,setVisible:c})=>{const o=l(p),m=t=>{const e=i(t);p(e),n(t),c(!1)},i=t=>{const e=o?.items?.map(a=>a?.id===t?.id?t:a);return{total:o.total>0?o.total:o.total+1,items:e.length?e:[t]}},j=l(n);return r.createElement(r.Fragment,null,r.createElement(d,{title:"Edit Project",centered:!0,closable:null,visible:s,footer:null},r.createElement(f,{project:j,onCompleted:m,onCancel:()=>c(!1)})))};export default u;
