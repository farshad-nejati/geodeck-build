import r from"https://cdn.skypack.dev/react";import{Modal as j}from"https://cdn.skypack.dev/antd";import{useReactiveVar as l}from"https://cdn.skypack.dev/@apollo/client";import{activeProjectVar as n}from"../../apollo/cache.js";import{projectsVar as p}from"../../apollo/cache.js";import f from"./project-form-update.js";const u=({visible:s,setVisible:c})=>{const e=l(p),m=t=>{const o=d(t);p(o),n(t),c(!1)},d=t=>{const o=e?.items?.map(a=>a?.id===t?.id?t:a);return{total:e.total>0?e.total:e.total+1,items:o.length?o:[t]}},i=l(n);return r.createElement(r.Fragment,null,r.createElement(j,{title:"Edit Project",centered:!0,closable:null,visible:s,footer:null},r.createElement(f,{project:i,onCompleted:m,onCancel:()=>c(!1)})))};export default u;
