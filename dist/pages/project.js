import e,{useEffect as m}from"../../_snowpack/pkg/react.js";import l from"../components/project-page/project-card.js";import i from"../components/project-page/project-new.js";import{PageHeader as j}from"../../_snowpack/pkg/antd.js";import{useQuery as d,useReactiveVar as f}from"../../_snowpack/pkg/@apollo/client.js";import{GET_PROJECTS as u}from"../apollo/queries/index.js";import g from"../components/spinner/index.js";import{projectsVar as r}from"../apollo/cache.js";import{getProjectsData as E}from"../data/projects-data.js";const _=k=>{const s=f(r),a=localStorage.getItem("sub");console.log(a);const{loading:p,error:c,data:t}=d(u,{variables:{userID:a}});return m(()=>{if(t)r(t?.projectModel);else if(c){const o=E();r(o?.projectModel)}},[t,c]),p?e.createElement(g,null):e.createElement("div",{className:"project"},e.createElement(j,{title:"Projects"}),e.createElement("div",{className:"project__cards grid__responsive2"},e.createElement(i,null),s?.items?.map((o,n)=>e.createElement(l,{key:n,project:o}))))};export default e.memo(_);
