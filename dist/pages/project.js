import e,{useEffect as m}from"https://cdn.skypack.dev/react";import l from"../components/project-page/project-card.js";import i from"../components/project-page/project-new.js";import{PageHeader as d}from"https://cdn.skypack.dev/antd";import{useQuery as j,useReactiveVar as f}from"https://cdn.skypack.dev/@apollo/client";import{GET_PROJECTS as u}from"../apollo/queries/index.js";import g from"../components/spinner/index.js";import{projectsVar as o}from"../apollo/cache.js";import{getProjectsData as E}from"../data/projects-data.js";const v=k=>{const s=f(o),c=localStorage.getItem("sub");console.log(c);const{loading:p,error:a,data:t}=j(u,{variables:{userID:c}});return m(()=>{if(t)o(t?.projectModel);else if(a){const r=E();o(r?.projectModel)}},[t,a]),p?e.createElement(g,null):e.createElement("div",{className:"project"},e.createElement(d,{title:"Projects"}),e.createElement("div",{className:"project__cards grid__responsive2"},e.createElement(i,null),s?.items?.map((r,n)=>e.createElement(l,{key:n,project:r}))))};export default e.memo(v);
