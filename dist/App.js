import e,{useEffect as s,useState as u}from"../_snowpack/pkg/react.js";import{BrowserRouter as i,Route as o,Switch as d}from"../_snowpack/pkg/react-router-dom.js";import{routes as k,guardedRoutes as y,playgroundRoutes as h}from"./routes.js";import f from"./history.js";import E from"./apollo/client.js";import{ApolloProvider as g}from"../_snowpack/pkg/@apollo/client.js";import j from"./GeodeckAuth0Provider.js";import P from"./helpers/authenticate-app.js";import"./less/main.css.proxy.js";import x from"./components/layout/index.js";import A from"./components/spinner/index.js";import w from"./components/higher-order-components/without-auth.js";import b from"./pages/plot-undo-demo.js";import R from"./components/playground-layout/index.js";const D=e.lazy(()=>import("./pages/callback.js")),l=e.lazy(()=>import("./pages/demo.js")),S=e.lazy(()=>import("./pages/chart-demo.js")),C=()=>{const[c,p]=u(!1);return s(()=>{c||(P(),p(!c))}),c?e.createElement(g,{client:E},e.createElement(j,null,e.createElement(i,{history:f},e.createElement(e.Suspense,{fallback:e.createElement(A,null)},e.createElement(d,null,e.createElement(o,{key:"/",path:"/",exact:!0,name:"Demo Page",component:l}),e.createElement(o,{key:"/demo",path:"/demo",exact:!0,name:"Demo Page",component:l}),e.createElement(o,{key:"/plot-undo",path:"/plot-undo",exact:!0,name:"Plot Undo Page",component:b}),e.createElement(o,{key:"/chart-demo",path:"/chart-demo",exact:!0,name:"Chart Page",component:S}),e.createElement(o,{key:"/callback",path:"/callback",exact:!0,name:"Callback Page",component:D}),k.map(({path:t,exact:r,name:a,component:n},m)=>e.createElement(o,{key:t,path:t,exact:r,name:a,component:w(n),key:m})),h.map(({path:t,exact:r,name:a,component:n})=>e.createElement(o,{key:t,path:t,exact:r,name:a,render:m=>e.createElement(R,null,e.createElement(n,{...m}))})),y.map(({path:t,exact:r,name:a,component:n})=>e.createElement(o,{key:t,path:t,exact:r,name:a,render:m=>e.createElement(x,null,e.createElement(n,{...m}))}))))))):"loading..."};export default C;
